<!DOCTYPE html>
<html lang="zh-TW">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¾®é†ºåœ–æ›¸é¤¨ | The Tipsy Library</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+TC:wght@300;500;700&display=swap" rel="stylesheet">
    <link rel="icon" href="https://en.pimg.jp/107/565/261/1/107565261.jpg" type="image/png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="https://accounts.google.com/gsi/client" async defer></script>
    <style>
        /* CSS 1 (å…¨åŸŸè®Šæ•¸èˆ‡åŸºç¤è¨­å®šï¼šå®šç¾©é¡è‰²è®Šæ•¸èˆ‡å­—é«”) */
        :root {
            --é»‘è‰²: #121212;
            --å¡ç‰‡èƒŒæ™¯è‰²: #1e1e1e;
            --å¥¢è¯é‡‘è‰²: #c5a059;
            --æ¬¡è¦æ–‡å­—è‰²: #a0a0a0;

            --å¥¢è¯é‡‘: #D4AF37;
            --æ·±è‰²èƒŒæ™¯: #1A1A1A;
        }

        body {
            background-color: var(--é»‘è‰²);
            color: #f5f5f7;
            font-family: 'Noto Serif TC', serif;
        }

        /* CSS 2 (å´é‚Šæ¬„æ¼¢å ¡æŒ‰éˆ•èˆ‡å®¹å™¨æ¨£å¼ï¼šæ¯›ç»ç’ƒæ•ˆæœ) */
        /* å´é‚Šæ””èˆ‡ç™»å…¥ */


        /* æŒ‰éˆ•å›ºå®šåœ¨å³ä¸Šè§’ */


        /* æ¼¢å ¡æŒ‰éˆ•æ¨£å¼ */
        .æ¼¢å ¡æŒ‰éˆ• {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 1px solid var(--å¥¢è¯é‡‘);
            background: rgba(26, 26, 26, 0.6);
            backdrop-filter: blur(5px);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .æ¼¢å ¡åœ–ç¤º {
            font-size: 1.8rem;
            color: var(--å¥¢è¯é‡‘);
        }

        /* å´é‚Šæ¬„æœ¬é«”æ¨£å¼ */
        .å¾®é†ºå´é‚Šæ¬„å®¹å™¨ {
            background-color: rgba(26, 26, 26, 0.8) !important;
            backdrop-filter: blur(15px);
            /* æ¯›ç»ç’ƒæ ¸å¿ƒ */
            border-right: 1px solid var(--å¥¢è¯é‡‘);
        }

        /* CSS 3 (é€šç”¨å…ƒä»¶æ¨£å¼ï¼šæ–‡å­—é¡è‰²ã€æŒ‰éˆ•ã€è¼¸å…¥æ¡†) */
        /* å…¶ä»–å°å·¥å…· class */
        .é‡‘è‰²æ–‡å­— {
            color: var(--å¥¢è¯é‡‘);
        }

        .ç™½è‰²æ–‡å­— {
            color: #fff;
            text-decoration: none;
        }

        .ç™½è‰²é€æ˜æ–‡å­— {
            color: rgba(255, 255, 255, 0.5);
        }

        .åº•éƒ¨é‡‘è‰²é‚Šæ¡† {
            border-bottom: 1px solid var(--å¥¢è¯é‡‘) !important;
        }

        .å¥¢è¯é‡‘å¡«æ»¿æŒ‰éˆ• {
            background-color: var(--å¥¢è¯é‡‘);
            color: #000;
            font-weight: bold;
            border: none;
        }

        .æ¯›ç»ç’ƒè¼¸å…¥æ¡† {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(212, 175, 55, 0.3);
            color: #fff;
        }

        .åº•éƒ¨é–“è· {
            margin-bottom: 3rem;
        }

        .åº•éƒ¨å°é–“è· {
            margin-bottom: 1rem;
        }

        .å¯¬åº¦ç™¾åˆ†ç™¾ {
            width: 100%;
        }

        .å°è¦½åˆ—è¡¨ {
            list-style: none;
            padding: 0;
        }

        .é‡‘è‰²æ–‡å­— {
            font-size: 1.4rem !important;
            /* å¢åŠ æ­¡è¿æ¨™é¡Œçš„å¤§å° */
            letter-spacing: 2px;
            /* å¢åŠ å­—é–“è·ï¼Œæ›´æœ‰é«˜ç´šæ„Ÿ */
        }



        /* è§£æ±ºå­—å¤ªå°èˆ‡é–“è·å•é¡Œ */
        .å°è¦½é€£çµ {
            font-size: 1.25rem !important;
            /* æŠŠå­—æ”¾å¤§ */
            padding: 12px 0;
            /* å¢åŠ ä¸Šä¸‹é–“è·ï¼Œæ¯”è¼ƒå¥½é»æ“Š */
            display: block;
            /* è®“é»æ“Šç¯„åœè®Šå¤§ */
            transition: 0.3s;
        }

        .å°è¦½é€£çµ:hover {
            color: var(--å¥¢è¯é‡‘) !important;
            /* æ»‘é¼ ç§»ä¸Šå»è®Šé‡‘è‰²ï¼Œå¢åŠ é«˜ç´šæ„Ÿ */
            padding-left: 10px;
            /* ç§»å…¥æ™‚è¼•å¾®å‘å³ä½ç§» */
        }

        /* è®“ç™»å…¥å€å¡Šçœ‹èµ·ä¾†æ›´åƒå°ˆé–€çš„å€å¡Š */
        .æœƒå“¡ç™»å…¥å€ {
            background: rgba(255, 255, 255, 0.03);
            padding: 20px;
            border-radius: 8px;
            border: 1px solid rgba(212, 175, 55, 0.1);
        }


        /* CSS 4 (é ‚éƒ¨å°è¦½åˆ—èˆ‡ç¯©é¸å™¨æ¨£å¼) */

        /* å°è¦½åˆ—èˆ‡ç¯©é¸å™¨ */


        .é ‚éƒ¨ç¯©é¸åˆ— {
            /* åŸ .filter-bar */
            background: rgba(30, 30, 30, 0.8);
            backdrop-filter: blur(10px);
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
            padding: 20px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .form-select {
            background-color: #2c2c2c;
            border: 1px solid #444;
            color: #fff;
            border-radius: 0;
        }

        .form-select:focus {
            background-color: #333;
            color: #fff;
            border-color: var(--å¥¢è¯é‡‘è‰²);
            box-shadow: none;
        }

        /* CSS 5 (é…’å¡è¨­è¨ˆï¼šåœ–ç‰‡ hover æ•ˆæœèˆ‡æ’ç‰ˆ) */
        /* é…’å¡è¨­è¨ˆ */
        .ç‰¹èª¿é…’å¡ {
            /* åŸ .cocktail-card */
            background-color: var(--å¡ç‰‡èƒŒæ™¯è‰²);
            border: none;
            transition: transform 0.3s cubic-bezier(0.25, 1, 0.5, 1);
            cursor: pointer;
            height: 100%;
            overflow: hidden;
        }

        .ç‰¹èª¿é…’å¡:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.5);
        }

        .card-img-top {
            /* Bootstrap åœ–ç‰‡é¡åˆ¥ */
            height: 250px;
            object-fit: cover;
            filter: brightness(0.8);
            transition: filter 0.3s;
        }

        .ç‰¹èª¿é…’å¡:hover .card-img-top {
            filter: brightness(1);
        }

        .card-body {
            padding: 20px;
            text-align: center;
        }

        .card-title {
            color: var(--å¥¢è¯é‡‘è‰²);
            font-size: 1.2rem;
            margin-bottom: 5px;
        }

        .å¡ç‰‡è³‡è¨Šå°å­— {
            /* åŸ .card-meta */
            font-size: 0.85rem;
            color: var(--æ¬¡è¦æ–‡å­—è‰²);
            letter-spacing: 1px;
            margin-bottom: 15px;
        }

        /* CSS 6 (å½ˆçª— Modal è¨­è¨ˆï¼šåŒ…å«å…§å®¹æ’ç‰ˆèˆ‡ RWD) */
        /* Modal å½ˆçª—è¨­è¨ˆ */
        .modal-content {
            background-color: #1a1a1a;
            color: #fff;
            border: 1px solid #333;
        }

        .modal-header {
            border-bottom: 1px solid #333;
        }

        .modal-footer {
            border-top: 1px solid #333;
        }

        .modal-title {
            color: var(--å¥¢è¯é‡‘è‰²);
            font-weight: 700;
        }

        .å½ˆçª—å¤§åœ– {
            /* åŸ .modal-img */
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-radius: 4px;
            margin-bottom: 20px;
        }

        .æ•…äº‹å…§æ–‡ {
            /* åŸ .story-text */
            font-size: 1rem;
            line-height: 1.8;
            color: #d1d1d1;
            margin-top: 20px;
            font-style: italic;
            border-left: 2px solid var(--å¥¢è¯é‡‘è‰²);
            padding-left: 15px;
        }

        .è‡ªè¨‚æ¨™ç±¤ {
            /* åŸ .badge-custom */
            background-color: rgba(197, 160, 89, 0.1);
            color: var(--å¥¢è¯é‡‘è‰²);
            border: 1px solid var(--å¥¢è¯é‡‘è‰²);
            padding: 5px 10px;
            font-weight: normal;
        }

        /* RWD å¾®èª¿ */
        @media (min-width: 768px) {

            /* åªé‡å° ID æ˜¯ #è©³æƒ…å½ˆçª— çš„ modal-body åšå·¦å³æ’ç‰ˆ */
            #è©³æƒ…å½ˆçª— .modal-body {
                display: flex;
                gap: 30px;
            }

            .å½ˆçª—å¤§åœ– {
                width: 45%;
                height: auto;
                margin-bottom: 0;
            }

            .å½ˆçª—å³å´è³‡è¨Š {
                width: 55%;
            }
        }


        /* CSS 7 (é å°¾ Footer è¨­è¨ˆï¼šæ’ç‰ˆèˆ‡é€£çµæ¨£å¼) */
        /* é å°¾CSS å…§å®¹ */

        .é å°¾å®¹å™¨ {
            background-color: #0a0a0a;
            /* æ¯”èƒŒæ™¯æ›´æ·±ä¸€é»çš„é»‘ */
            border-top: 1px solid rgba(197, 160, 89, 0.2);
            /* é‡‘è‰²åŠé€æ˜é‚Šæ¡† */
            padding: 60px 0 30px;
            margin-top: 80px;
        }

        .é å°¾æ¨™é¡Œ {
            color: var(--å¥¢è¯é‡‘è‰²);
            font-weight: 700;
            margin-bottom: 20px;
            letter-spacing: 2px;
        }

        .é å°¾æ–‡å­— {
            color: var(--æ¬¡è¦æ–‡å­—è‰²);
            font-size: 0.95rem;
            line-height: 1.8;
        }

        .é å°¾é€£çµ {
            color: #f5f5f7;
            text-decoration: none;
            font-size: 0.9rem;
            display: block;
            margin-bottom: 10px;
            transition: color 0.3s;
        }

        .é å°¾é€£çµ:hover {
            color: var(--å¥¢è¯é‡‘è‰²);
        }

        .é å°¾è­¦èª {
            background-color: #c5a059;
            color: #121212;
            padding: 5px 10px;
            display: inline-block;
            font-weight: bold;
            font-size: 0.8rem;
        }

        /* éŸ¿æ‡‰å¼å¾®èª¿ */
        @media (max-width: 768px) {
            .é å°¾å®¹å™¨ {
                text-align: center;
            }

            .é å°¾è­¦èª {
                margin-top: 10px;
            }
        }

        /* CSS 8 (äº’å‹•å…ƒä»¶ï¼šæ„›å¿ƒæŒ‰éˆ•ã€é€šçŸ¥æ¡†ã€å°è¦½ç®­é ­) */
        /* --- æ–°å¢ï¼šæ„›å¿ƒæ”¶è—èˆ‡é€šçŸ¥æ¨£å¼ --- */

        /* --- ä¿®æ­£å½ˆçª—æ’ç‰ˆèˆ‡æ„›å¿ƒæ¨£å¼ --- */
        .æ„›å¿ƒæŒ‰éˆ• {
            position: absolute;
            top: 15px;
            right: 15px;
            z-index: 10;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            border: 1px solid rgba(255, 255, 255, 0.3);
            transition: 0.3s;
        }

        .æ„›å¿ƒæŒ‰éˆ•:hover {
            background: rgba(0, 0, 0, 0.8);
            transform: scale(1.1);
        }

        .å·²æ”¶è— .æ„›å¿ƒåœ–ç¤º {
            color: #ff4757;
        }

        .æ„›å¿ƒåœ–ç¤º {
            color: white;
            font-size: 1.2rem;
        }

        /* é€šçŸ¥æ¡† */
        #é€šçŸ¥æ¡† {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: rgba(20, 20, 20, 0.95);
            color: #fff;
            padding: 15px 30px;
            border-radius: 50px;
            border: 1px solid #c5a059;
            z-index: 9999;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
        }

        /* é—œéµä¿®æ­£ï¼šè®“åŒ…äº†æ„›å¿ƒçš„åœ–ç‰‡å®¹å™¨ï¼Œåœ¨é›»è…¦ç‰ˆä¹Ÿèƒ½ç¶­æŒ 45% çš„å¯¬åº¦ */
        .img-container {
            width: 100%;
            position: relative;
        }

        @media (min-width: 768px) {
            #è©³æƒ…å½ˆçª— .modal-body .img-container {
                width: 45%;
            }

            #è©³æƒ…å½ˆçª— .modal-body .img-container img {
                width: 100%;
            }
        }

        /* è®“å½ˆçª—åº•éƒ¨çš„ç·šæ¢è®Šæˆæ·±è‰²ï¼Œæ‰ä¸æœƒæœ‰ä¸€æ¢ç™½ç·šå¾ˆçªå…€ */
        .modal-footer {
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            justify-content: center;
            /* æŒ‰éˆ•ç½®ä¸­ */
        }

        /* å°è¦½æŒ‰éˆ•åŸºæœ¬æ¨£å¼ */
        .å°è¦½ç®­é ­ {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, 0.3);
            color: white;
            border: 1px solid rgba(255, 255, 255, 0.2);
            width: 45px;
            height: 45px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s;
            z-index: 1060;
            /* ç¢ºä¿åœ¨ Modal ä¹‹ä¸Š */
        }

        .å°è¦½ç®­é ­:hover {
            background: var(--å¥¢è¯é‡‘);
            color: black;
            border-color: var(--å¥¢è¯é‡‘);
        }

        .ç®­é ­-å·¦ {
            left: -60px;
        }

        .ç®­é ­-å³ {
            right: -60px;
        }

        /* éŸ¿æ‡‰å¼ï¼šåœ¨æ‰‹æ©Ÿç‰ˆå°‡ç®­é ­ç§»å…¥å½ˆçª—å…§ï¼Œé¿å…è¶…å‡ºè¢å¹• */
        @media (max-width: 992px) {
            .ç®­é ­-å·¦ {
                left: 10px;
            }

            .ç®­é ­-å³ {
                right: 10px;
            }

            .å°è¦½ç®­é ­ {
                background: rgba(0, 0, 0, 0.6);
            }
        }

        /* CSS 9 (å½ˆçª—å…§éƒ¨åŠŸèƒ½ï¼šåˆ†é åˆ‡æ›æŒ‰éˆ•ã€æ­¥é©Ÿæ¨£å¼) */
        /* --- è©³æƒ…å½ˆçª—åˆ†é åˆ‡æ›æ¨£å¼ (å¾®èª¿ç‰ˆ) --- */
        .åˆ†é åˆ‡æ›å€ {
            display: flex;
            gap: 15px;
            /* æŒ‰éˆ•ä¹‹é–“åˆ†é–‹ä¸€é»ï¼Œæ¯”è¼ƒå¥½é» */
            margin-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            padding-bottom: 5px;
        }

        .åˆ†é æŒ‰éˆ• {
            background: none;
            border: none;
            color: rgba(255, 255, 255, 0.4);
            padding: 5px 0;
            font-size: 1rem;
            cursor: pointer;
            position: relative;
            transition: 0.3s;
            font-family: 'Noto Serif TC', serif;
        }

        .åˆ†é æŒ‰éˆ•:hover {
            color: rgba(255, 255, 255, 0.8);
        }

        .åˆ†é æŒ‰éˆ•.å•Ÿå‹• {
            color: var(--å¥¢è¯é‡‘è‰²);
            font-weight: bold;
        }

        .åˆ†é æŒ‰éˆ•.å•Ÿå‹•::after {
            content: '';
            position: absolute;
            bottom: -6px;
            /* é‡‘è‰²ç·šæ¢çš„ä½ç½® */
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--å¥¢è¯é‡‘è‰²);
        }

        /* --- æ–°å¢ï¼šæ¥µç°¡æ­¥é©Ÿæ–‡å­—æ¨£å¼ (åŸæœ¬çš„æ–¹å¡Šæ¨£å¼å·²åˆªé™¤) --- */
        .æ­¥é©Ÿæ¸…å–®å®¹å™¨ {
            display: none;
            /* é è¨­éš±è—ï¼Œç”± JS æ§åˆ¶é¡¯ç¤º */
        }

        .åœ–æ¨™å·¥å…·åˆ— {
            display: flex;
            gap: 10px;
            margin-top: 10px;
            margin-bottom: 15px;
        }

        .å·¥å…·æ¨™ç±¤ {
            background: rgba(197, 160, 89, 0.1);
            color: var(--å¥¢è¯é‡‘è‰²);
            padding: 4px 10px;
            border-radius: 4px;
            font-size: 0.85rem;
            display: flex;
            align-items: center;
            gap: 6px;
            border: 1px solid rgba(197, 160, 89, 0.3);
        }

        .ç´”æ–‡å­—æ­¥é©Ÿåˆ—è¡¨ {
            padding-left: 20px;
            /* æ•¸å­—ç¸®æ’ */
            margin-top: 10px;
            color: #d1d1d1;
            /* è·Ÿæ•…äº‹å…§æ–‡ä¸€æ¨£çš„é¡è‰² */
            line-height: 2;
            /* è¡Œè·æ‹‰é–‹ï¼Œå¥½é–±è®€ */
            font-size: 1rem;
        }

        .ç´”æ–‡å­—æ­¥é©Ÿåˆ—è¡¨ li {
            margin-bottom: 10px;
            /* æ¯ä¸€æ¢åˆ†é–‹ä¸€é» */
        }


        /* CSS 10 (æœå°‹è¼¸å…¥æ¡†æ¨£å¼ï¼šFocus ç‹€æ…‹) */
        /* æœå°‹æ¡†ç¾åŒ– */
        #æœå°‹è¼¸å…¥:focus {
            background-color: #222 !important;
            border-color: var(--å¥¢è¯é‡‘è‰²) !important;
            box-shadow: 0 0 5px rgba(197, 160, 89, 0.5);
            color: white;
        }

        .input-group-text {
            border-right: none;
        }

        #æœå°‹è¼¸å…¥ {
            border-left: none;
        }

        /* CSS 11 (æ³•å¾‹è¦ç¯„ï¼šåº•éƒ¨å›ºå®šè­¦èªæ¬„) */
        /* --- æ³•å¾‹è¦ç¯„ï¼š10% å›ºå®šè­¦èªæ¬„æ¨£å¼ --- */
        .é…’é¡è­¦èªå›ºå®šæ¬„ {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 10vh;
            /* é—œéµï¼šä½”æ“šè¢å¹•é«˜åº¦çš„ 10% */
            background-color: #000000;
            /* ç´”é»‘åº• */
            color: #ffffff;
            /* ç´”ç™½å­—ï¼Œé”æˆæœ€é«˜å°æ¯” */
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            /* ç¢ºä¿åœ¨æ‰€æœ‰å…ƒä»¶ï¼ˆåŒ…å«å½ˆçª—ï¼‰ä¹‹ä¸Š */
            border-top: 2px solid var(--å¥¢è¯é‡‘è‰²);
            /* åŠ ä¸Šé‡‘è‰²é‚Šæ¡†ç¶­æŒç¾æ„Ÿï¼Œä½†ä¸å½±éŸ¿è­¦èªç¨ç«‹æ€§ */
            pointer-events: none;
            /* è®“é€™æ¬„ä¸å½±éŸ¿ä¸‹æ–¹å…ƒä»¶çš„é»æ“Šï¼Œä½†æ³•è¦ä¸Šå»ºè­°ä¿ç•™é¡¯ç¤ºå³å¯ */
        }

        .è­¦èªå®¹å™¨ {
            display: flex;
            align-items: center;
            gap: 20px;
            width: 90%;
            justify-content: center;
        }

        .è­¦èªæ–‡å­— {
            font-size: clamp(1.2rem, 4vh, 2.5rem);
            /* éš¨è¢å¹•å¤§å°ç¸®æ”¾å­—é«” */
            font-weight: 900;
            /* æ¥µç²—é«” */
            letter-spacing: 5px;
            /* å­—è·æ‹‰é–‹ï¼Œå¢åŠ é¡¯è‘—æ€§ */
            font-family: sans-serif;
            /* ä½¿ç”¨é»‘é«”/ç„¡è¥¯ç·šé«”ï¼Œæœ€æ¸…æ™° */
        }

        .è­¦èªåˆ†éš”ç·š {
            font-size: 2rem;
            color: var(--å¥¢è¯é‡‘è‰²);
        }

        /* éŸ¿æ‡‰å¼å¾®èª¿ï¼šæ‰‹æ©Ÿç‰ˆæ”¹ç‚ºä¸Šä¸‹å…©è¡Œä»¥ç¶­æŒé¢ç©æ¯” */
        @media (max-width: 768px) {
            .è­¦èªå®¹å™¨ {
                flex-direction: column;
                gap: 5px;
            }

            .è­¦èªæ–‡å­— {
                font-size: 1.2rem;
                letter-spacing: 2px;
            }

            .è­¦èªåˆ†éš”ç·š {
                display: none;
            }
        }

        /* ç¢ºä¿é å°¾å…§å®¹ä¸æœƒè¢«è­¦èªæ¬„é®ä½ */
        body {
            padding-bottom: 12vh;
            /* æ¯” 10% å†å¤šä¸€é»é» */
        }

        /* CSS 12 (é›œé …ï¼šéš±è—æ²è»¸æ¨£å¼ã€æ™¶ç‰‡æ¨™ç±¤ã€æ‰‹æ©Ÿç‰ˆå¾®å‹é¸å–®) */
        /* éš±è—æ©«å‘æ²è»¸ä½†ä¿ç•™æ»‘å‹•åŠŸèƒ½ */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* æ™¶ç‰‡æŒ‰éˆ•æ¨£å¼ */
        .æ™¶ç‰‡æ¨™ç±¤ {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(197, 160, 89, 0.4);
            color: #c5a059;
            white-space: nowrap;
            /* ç¦æ­¢æ›è¡Œ */
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9rem;
            transition: 0.3s;
        }

        .æ™¶ç‰‡æ¨™ç±¤:active,
        .æ™¶ç‰‡æ¨™ç±¤:hover {
            background: #c5a059;
            color: #000;
        }


        /* éš±è—æ©«å‘æ²è»¸ */
        .hide-scrollbar::-webkit-scrollbar {
            display: none;
        }

        .hide-scrollbar {
            -ms-overflow-style: none;
            scrollbar-width: none;
        }

        /* æ‰‹æ©Ÿç‰ˆå¾®å‹é¸å–®æ¨£å¼ */
        .æ‰‹æ©Ÿç‰ˆ-å¾®å‹é¸å–® {
            appearance: none;
            /* ç§»é™¤é è¨­ç®­é ­ */
            -webkit-appearance: none;
            background-color: rgba(255, 255, 255, 0.1) !important;
            /* åŠé€æ˜èƒŒæ™¯ */
            border: 1px solid rgba(197, 160, 89, 0.4) !important;
            color: #c5a059 !important;
            border-radius: 20px !important;
            /* åœ“è§’ */
            padding: 5px 15px !important;
            font-size: 0.9rem !important;
            width: auto !important;
            /* å¯¬åº¦éš¨å…§å®¹è‡ªå‹•ç¸®æ”¾ */
            min-width: 100px;
            /* æœ€å°å¯¬åº¦ */
            text-align: center;
            background-image: none !important;
            /* ç¢ºä¿æ²’æœ‰ç®­é ­åœ–ç‰‡ */
            cursor: pointer;
        }

        /* é¸ä¸­å¾Œçš„ç‹€æ…‹ (Optional) */
        .æ‰‹æ©Ÿç‰ˆ-å¾®å‹é¸å–®:focus {
            box-shadow: 0 0 0 2px rgba(197, 160, 89, 0.5);
            background-color: rgba(0, 0, 0, 0.8) !important;
        }

        /* CSS 13 (å½ˆçª—åº•éƒ¨å¢Šé«˜ä¿®å¾©ï¼šé˜²æ­¢è¢«è­¦èªæ“‹ä½) */
        /* 1. è®“å½ˆçª—æ¢å¾©è‡ªç”±é«˜åº¦ï¼Œè§£æ±ºã€Œå°è¦–çª—æ„Ÿã€å’Œã€Œç®­é ­æ¶ˆå¤±ã€ */
        .modal-content {
            max-height: none !important;
            /* è§£é™¤é«˜åº¦é™åˆ¶ */
            overflow: visible !important;
            /* é—œéµï¼è®“ç®­é ­å¯ä»¥è¶…å‡ºæ¡†æ¡†é¡¯ç¤º */
        }

        /* 2. é‡å°å½ˆçª—å®¹å™¨é€²è¡Œã€Œåº•éƒ¨å¢Šé«˜ã€ */
        .modal-dialog {
            /* é€™è£¡åŸæœ¬æ˜¯ margin-bottomï¼Œæ”¹æˆ padding-bottom æ•ˆæœæ›´å¥½ */
            /* ç¢ºä¿æ»‘åˆ°åº•éƒ¨æ™‚ï¼Œå½ˆçª—æœ€ä¸‹æ–¹æœƒç•™å‡º 15vh çš„ç©ºé–“ï¼Œå‰›å¥½é¿é–‹è­¦èª */
            padding-bottom: 15vh !important;

            /* ä¿æŒå‚ç›´ç½®ä¸­ï¼Œä½†å¦‚æœå…§å®¹å¤ªé•·æœƒè‡ªå‹•è®Šæˆå¾é ‚éƒ¨é–‹å§‹æ»¾å‹• */
            display: flex;
            flex-direction: column;
            justify-content: center;
            min-height: 100%;
        }

        /* 3. é›»è…¦ç‰ˆç‰¹åˆ¥å„ªåŒ– */
        @media (min-width: 768px) {
            .modal-dialog {
                padding-bottom: 12vh !important;
                /* é›»è…¦ç‰ˆè­¦èªä½”æ¯”å°ä¸€é»ï¼Œå¢Š 12vh å°±å¤  */
            }
        }

        /* CSS 14 (é ç¢¼åˆ‡æ›å™¨æ¨£å¼) */
        /* é æ•¸åˆ‡æ› */

        .åˆ†é å®¹å™¨ {
            background: rgba(30, 30, 30, 0.6);
            padding: 10px 20px;
            border-radius: 50px;
            border: 1px solid rgba(197, 160, 89, 0.3);
        }

        .åˆ†é æŒ‰éˆ• {
            background: #3a3a3e;
            color: #fff;
            border-radius: 8px;
            padding: 6px 15px;
            font-size: 0.9rem;
            border: none;
            transition: 0.3s;
        }

        .åˆ†é æŒ‰éˆ•:hover {
            background: var(--å¥¢è¯é‡‘è‰²);
            color: #000;
        }

        .åˆ†é æŒ‰éˆ•:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .é ç¢¼è¼¸å…¥çµ„ {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--æ¬¡è¦æ–‡å­—è‰²);
        }

        .é ç¢¼è¼¸å…¥ {
            width: 60px;
            height: 35px;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid var(--å¥¢è¯é‡‘è‰²);
            color: #fff;
            text-align: center;
            border-radius: 6px;
            font-weight: bold;
        }

        .ç¸½é æ•¸é¡¯ç¤º {
            font-size: 1rem;
            letter-spacing: 1px;
        }

        /* --- ä¿®å¾©ï¼šå´é‚Šæ¬„åº•éƒ¨è¢«è­¦èªæ“‹ä½çš„å•é¡Œ --- */
        .offcanvas-body {
            /* é€™è£¡çµ¦å®ƒ 20vh çš„ç©ºé–“ï¼Œä¿è­‰æœ€å¾Œä¸€å€‹æŒ‰éˆ•ä¸€å®šæ»‘å¾—å‡ºä¾† */
            padding-bottom: 20vh !important;
        }
    </style>
</head>

<body>
    <!-- [ç¬¬ä¸€éšæ®µå¯¦ä½œ] 18 æ­²å¹´é½¡é©—è­‰å½ˆçª— -->
    <div class="modal fade" id="ageVerificationModal" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1"
        aria-labelledby="ageVerificationModalLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content text-white" style="background-color: #1a1a1a; border: 1px solid var(--å¥¢è¯é‡‘è‰²);">
                <div class="modal-header border-0 justify-content-center">
                    <h5 class="modal-title" id="ageVerificationModalLabel"
                        style="color: var(--å¥¢è¯é‡‘è‰²); font-weight: bold; font-size: 1.5rem;">
                        <i class="bi bi-shield-lock-fill me-2"></i>å¹´é½¡é©—è­‰
                    </h5>
                </div>
                <div class="modal-body text-center py-4">
                    <p class="mb-4" style="font-size: 1.1rem; line-height: 1.6;">
                        æœ¬ç¶²ç«™åŒ…å«é…’é¡ç›¸é—œè³‡è¨Šã€‚<br>
                        è«‹å•æ‚¨æ˜¯å¦å·²å¹´æ»¿ <strong>18</strong> æ­²ï¼Ÿ
                    </p>
                </div>
                <div class="modal-footer border-0 flex-column gap-2 pb-4">
                    <button type="button" class="btn å¥¢è¯é‡‘å¡«æ»¿æŒ‰éˆ• w-75 py-2" id="btnAdultConfirm">æˆ‘å·²æ»¿ 18 æ­²ï¼Œé€²å…¥ç¶²ç«™</button>
                    <button type="button" class="btn btn-outline-secondary w-75" id="btnUnderageExit">æˆ‘æœªæ»¿ 18
                        æ­²ï¼Œé›¢é–‹</button>
                </div>
            </div>
        </div>
    </div>
    <!-- å´é‚Šæ””èˆ‡ç™»å…¥ -->



    <div class="offcanvas offcanvas-end å¾®é†ºå´é‚Šæ¬„å®¹å™¨" tabindex="-1" id="å´é‚Šé¸å–®æœ¬é«”">
        <div class="offcanvas-header åº•éƒ¨é‡‘è‰²é‚Šæ¡†">
            <h5 class="offcanvas-title é‡‘è‰²æ–‡å­—">å¾®é†ºåœ–æ›¸é¤¨</h5>
            <button type="button" class="btn-close btn-close-white me-auto ms-0" data-bs-dismiss="offcanvas"></button>
        </div>

        <div class="offcanvas-body">
            <div class="mb-4 d-md-none border-bottom border-secondary pb-4">
                <label class="é‡‘è‰²æ–‡å­— å°å­—é«” mb-2">
                    <i class="bi bi-search"></i> æœå°‹é¤¨è—
                </label>
                <input type="text" id="æœå°‹è¼¸å…¥_æ‰‹æ©Ÿ" class="è¡¨å–®å…ƒä»¶ æ¯›ç»ç’ƒè¼¸å…¥æ¡† w-100" placeholder="è¼¸å…¥é…’åæˆ–ææ–™..." oninput="åŸ·è¡Œç¯©é¸()">
            </div>

            <div class="æœƒå“¡ç™»å…¥å€ åº•éƒ¨é–“è·">
                <h6 class="ç™½è‰²é€æ˜æ–‡å­— åº•éƒ¨å°é–“è·">æœƒå“¡ç™»å…¥</h6>
                <div class="æœƒå“¡ä¸­å¿ƒå€ åº•éƒ¨é–“è·">
                    <h6 class="ç™½è‰²é€æ˜æ–‡å­— åº•éƒ¨å°é–“è·">å€‹äººæœå‹™</h6>
                    <div class="æœƒå“¡ä¸­å¿ƒå€ åº•éƒ¨é–“è·">
                        <ul class="å°è¦½åˆ—è¡¨">
                            <li class="åˆ—è¡¨é …ç›®">
                                <a class="å°è¦½é€£çµ ç™½è‰²æ–‡å­—" href="#" data-bs-toggle="modal" data-bs-target="#ç™»å…¥å½ˆçª—">
                                    <i class="bi bi-person-circle me-2"></i> æœƒå“¡ç™»å…¥ / è¨»å†Š
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                <div id="ç™»å…¥ç‹€æ…‹è¨Šæ¯" class="é ‚éƒ¨å°é–“è· å°å­—é«” é‡‘è‰²æ–‡å­—"></div>
            </div>

            <ul class="å°è¦½åˆ—è¡¨">
                <li class="åˆ—è¡¨é …ç›® åº•éƒ¨å°é–“è·">
                    <a class="å°è¦½é€£çµ ç™½è‰²æ–‡å­—" href="#" onclick="éš¨æ©Ÿé¸é…’é‚è¼¯()"><i class="bi bi-shuffle me-2"></i> éš¨æ©Ÿé¸é…’</a>
                </li>
                <li class="åˆ—è¡¨é …ç›® åº•éƒ¨å°é–“è·">
                    <a class="å°è¦½é€£çµ ç™½è‰²æ–‡å­—" href="#" onclick="ç”Ÿæˆå¾®é†ºå¥—é¤()">
                        <i class="bi bi-stars me-2"></i> å¾®é†ºå¥—é¤æ¨è–¦ (3 Courses)
                    </a>
                </li>
                <li class="åˆ—è¡¨é …ç›® åº•éƒ¨å°é–“è·">
                    <a class="å°è¦½é€£çµ ç™½è‰²æ–‡å­—" href="https://www.google.com/maps/search/?api=1&query=é…’å§" target="_blank"><i
                            class="bi bi-geo-alt me-2"></i> é™„è¿‘çš„é…’å§</a>
                </li>
                <li class="åˆ—è¡¨é …ç›® åº•éƒ¨å°é–“è·">
                    <a class="å°è¦½é€£çµ ç™½è‰²æ–‡å­—" href="http://www.google.com/maps/search/%E4%BE%BF%E5%88%A9%E5%95%86%E5%BA%97"
                        target="_blank"><i class="bi bi-geo-alt me-2"></i> é™„è¿‘çš„è¶…å•†</a>
                </li>
                <li class="åˆ—è¡¨é …ç›® åº•éƒ¨å°é–“è·">
                    <a class="å°è¦½é€£çµ ç™½è‰²æ–‡å­—" href="https://m.uber.com/ul" target="_blank">
                        <i class="bi bi-car-front me-2"></i> ä¸€éµå«è»Š
                    </a>
                </li>
                <li class="åˆ—è¡¨é …ç›®">
                    <a class="å°è¦½é€£çµ é‡‘è‰²æ–‡å­— fw-bold" href="#" id="é–‹å•Ÿè´ŠåŠ©æŒ‰éˆ•" onclick="åˆ‡æ›è´ŠåŠ©ä»‹é¢(true)">
                        <i class="bi bi-cup-hot-fill me-2"></i> æ”¯æŒæˆ‘å€‘ (Sponsor)
                    </a>
                </li>
            </ul>
        </div>

        <!-- ==================================== -->
        <!-- ğŸ’° è´ŠåŠ©ä»‹é¢ (éš±è—æ–¼å´é‚Šæ¬„ä¸­) -->
        <!-- ==================================== -->
        <div class="offcanvas-body" id="è´ŠåŠ©ä»‹é¢" style="display: none;">
            <div class="mb-4">
                <button class="btn btn-sm btn-outline-secondary text-white mb-3" onclick="åˆ‡æ›è´ŠåŠ©ä»‹é¢(false)">
                    <i class="bi bi-arrow-left me-1"></i> è¿”å›é¸å–®
                </button>
                <h5 class="é‡‘è‰²æ–‡å­— mb-3"><i class="bi bi-cup-hot-fill me-2"></i>è«‹æˆ‘å€‘å–æ¯é…’</h5>
                <p class="text-white-50" style="font-size: 0.95rem; line-height: 1.6;">
                    æ‚¨çš„æ”¯æŒæ˜¯å¾®é†ºåœ–æ›¸é¤¨æŒçºŒç‡Ÿé‹çš„æœ€å¤§å‹•åŠ›ã€‚<br>
                    é¸æ“‡æ‚¨æƒ³è´ŠåŠ©çš„é‡‘é¡ï¼Œæˆ–è‡ªè¨‚å¿ƒæ„ï¼š
                </p>
            </div>

            <!-- å¿«é€Ÿè´ŠåŠ©æŒ‰éˆ• -->
            <div class="d-flex flex-column gap-3 mb-4">
                <button class="btn å¥¢è¯é‡‘å¡«æ»¿æŒ‰éˆ• py-2" onclick="åŸ·è¡Œè´ŠåŠ©(150)">
                    <i class="bi bi-cup me-1"></i> è´ŠåŠ© NTD 150 (ä¸€æ¯ Shot)
                </button>
                <button class="btn å¥¢è¯é‡‘å¡«æ»¿æŒ‰éˆ• py-2" onclick="åŸ·è¡Œè´ŠåŠ©(500)">
                    <i class="bi bi-glass-martini me-1"></i> è´ŠåŠ© NTD 500 (ä¸€æ¯èª¿é…’)
                </button>
                <button class="btn å¥¢è¯é‡‘å¡«æ»¿æŒ‰éˆ• py-2" onclick="åŸ·è¡Œè´ŠåŠ©(1500)">
                    <i class="bi bi-droplet-half me-1"></i> è´ŠåŠ© NTD 1500 (ä¸€ç“¶å¥½é…’)
                </button>
            </div>

            <hr class="border-secondary opacity-50 mb-4">

            <!-- è‡ªè¨‚é‡‘é¡è¼¸å…¥å€ -->
            <div class="mb-3">
                <label class="ç™½è‰²é€æ˜æ–‡å­— å°å­—é«” mb-2 d-block">è‡ªè¨‚æ”¯æŒé‡‘é¡ (NTD)</label>
                <div class="input-group mb-3">
                    <span class="input-group-text bg-dark border-secondary text-white-50">NTD</span>
                    <input type="number" id="è‡ªè¨‚è´ŠåŠ©é‡‘é¡" class="form-control æ¯›ç»ç’ƒè¼¸å…¥æ¡† text-white"
                        placeholder="è¼¸å…¥é‡‘é¡å­—æ•¸é‡ (ä¾‹å¦‚ 300)" min="50" step="1">
                </div>
            </div>
            <button class="æŒ‰éˆ• å¥¢è¯é‡‘å¡«æ»¿æŒ‰éˆ• å¯¬åº¦ç™¾åˆ†ç™¾ py-3" onclick="æäº¤è‡ªè¨‚è´ŠåŠ©()">
                <i class="bi bi-heart-fill text-danger me-2"></i>ç«‹å³æ”¯æŒ
            </button>

            <div class="mt-3 text-center border-top border-secondary pt-3">
                <small class="text-white-50">
                    <i class="bi bi-shield-check me-1"></i>ç”± Stripe æä¾›å®‰å…¨åŠ å¯†æ”¯ä»˜<br>
                    â€» è´ŠåŠ©åœ°æ¿åƒ¹ç‚º NTD 50
                </small>
            </div>
        </div>
    </div>



    <!-- é ‚éƒ¨å¡é¸å™¨ -->

    <div class="é ‚éƒ¨ç¯©é¸åˆ—">
        <div class="container-fluid">
            <div class="row g-2 align-items-center flex-nowrap">

                <div class="col-auto">
                    <h4 class="m-0 é‡‘è‰²æ–‡å­—"
                        style="letter-spacing: 2px; cursor: pointer; white-space: nowrap; font-size: 1.2rem;"
                        onclick="å›åˆ°é¦–é ()">
                        <span class="d-md-none">å¾®é†º</span> <span class="d-none d-md-inline">å¾®é†ºåœ–æ›¸é¤¨</span>
                    </h4>
                </div>

                <div class="col-md-3 ms-md-2 d-none d-md-block">
                    <div class="input-group">
                        <span class="input-group-text bg-dark border-secondary text-secondary"
                            style="border-right: none;"><i class="bi bi-search"></i></span>
                        <input type="text" id="æœå°‹è¼¸å…¥" class="form-control bg-dark border-secondary text-white"
                            style="border-left: none; height: 40px;" placeholder="æœå°‹é…’å..." oninput="åŸ·è¡Œç¯©é¸()">
                    </div>
                </div>

                <div class="col-md-2 d-none d-md-block">
                    <select class="form-select" id="ç¯©é¸-åŸºé…’" onchange="åŸ·è¡Œç¯©é¸()">
                        <option value="all">åŸºé…’ (Base)</option>
                        <option value="Gin">ç´é…’ (Gin)</option>
                        <option value="Vodka">ä¼ç‰¹åŠ  (Vodka)</option>
                        <option value="Rum">è˜­å§†é…’ (Rum)</option>
                        <option value="Whiskey">å¨å£«å¿Œ (Whiskey)</option>
                        <option value="Tequila">é¾èˆŒè˜­ (Tequila)</option>
                    </select>
                </div>
                <div class="col-md-2 d-none d-md-block">
                    <select class="form-select" id="ç¯©é¸-æ¿ƒåº¦" onchange="åŸ·è¡Œç¯©é¸()">
                        <option value="all">æ¿ƒåº¦ (ABV)</option>
                        <option value="low">å¾®é†º &lt;12%</option>
                        <option value="med">å‰›å¥½ 12-25%</option>
                        <option value="high">é‡æ“Š &gt;25%</option>
                    </select>
                </div>
                <div class="col-md-2 d-none d-md-block">
                    <select class="form-select" id="ç¯©é¸-å£æ„Ÿ" onchange="åŸ·è¡Œç¯©é¸()">
                        <option value="all">é¢¨å‘³ (Taste)</option>
                        <option value="é…¸ç”œ/æœé¦™">é…¸ç”œ/æœé¦™</option>
                        <option value="è¾›è¾£/ä¸ç”œ">è¾›è¾£/ä¸ç”œ</option>
                        <option value="æ¸…çˆ½/æ°£æ³¡">æ¸…çˆ½/æ°£æ³¡</option>
                        <option value="è‹¦ç”œ/å¤§äººå‘³">è‹¦ç”œ/å¤§äººå‘³</option>
                    </select>
                </div>

                <div class="col d-md-none overflow-x-auto hide-scrollbar">
                    <div class="d-flex gap-2">
                        <select class="form-select æ‰‹æ©Ÿç‰ˆ-å¾®å‹é¸å–®" id="ç¯©é¸-åŸºé…’-æ‰‹æ©Ÿ" onchange="åŸ·è¡Œç¯©é¸()">
                            <option value="all"> å…¨éƒ¨åŸºé…’</option>
                            <option value="Gin">ç´é…’</option>
                            <option value="Vodka">ä¼ç‰¹åŠ </option>
                            <option value="Rum">è˜­å§†é…’</option>
                            <option value="Whiskey">å¨å£«å¿Œ</option>
                            <option value="Tequila">é¾èˆŒè˜­</option>
                        </select>

                        <select class="form-select æ‰‹æ©Ÿç‰ˆ-å¾®å‹é¸å–®" id="ç¯©é¸-æ¿ƒåº¦-æ‰‹æ©Ÿ" onchange="åŸ·è¡Œç¯©é¸()">
                            <option value="all"> å…¨éƒ¨æ¿ƒåº¦</option>
                            <option value="low">å¾®é†º &lt;12%</option>
                            <option value="med">å‰›å¥½ 12-25%</option>
                            <option value="high">é‡æ“Š &gt;25%</option>
                        </select>

                        <select class="form-select æ‰‹æ©Ÿç‰ˆ-å¾®å‹é¸å–®" id="ç¯©é¸-å£æ„Ÿ-æ‰‹æ©Ÿ" onchange="åŸ·è¡Œç¯©é¸()">
                            <option value="all"> å…¨éƒ¨é¢¨å‘³</option>
                            <option value="é…¸ç”œ/æœé¦™">é…¸ç”œ/æœé¦™</option>
                            <option value="è¾›è¾£/ä¸ç”œ">è¾›è¾£/ä¸ç”œ</option>
                            <option value="æ¸…çˆ½/æ°£æ³¡">æ¸…çˆ½/æ°£æ³¡</option>
                            <option value="è‹¦ç”œ/å¤§äººå‘³">è‹¦ç”œ/å¤§äººå‘³</option>
                        </select>
                    </div>
                </div>

                <div class="col-auto">
                    <button class="æ¼¢å ¡æŒ‰éˆ•" type="button" data-bs-toggle="offcanvas" data-bs-target="#å´é‚Šé¸å–®æœ¬é«”">
                        <i class="bi bi-list æ¼¢å ¡åœ–ç¤º"></i>
                    </button>
                </div>

            </div>
        </div>
    </div>




    <!-- å½ˆå‡ºå¼é…’å–® -->

    <div class="container py-5">
        <div class="row g-4" id="é›å°¾é…’å±•ç¤ºç¶²æ ¼">

            <div id="è¼‰å…¥æç¤º" class="text-center mt-5 w-100">
                <div class="spinner-border text-warning" role="status" style="width: 3rem; height: 3rem;">
                    <span class="visually-hidden">Loading...</span>
                </div>
                <p class="mt-3 text-white-50">æ­£åœ¨å–šé†’å¾®é†ºéˆé­‚ï¼Œè«‹ç¨å€™...</p>
            </div>

        </div>
    </div>


    <div class="modal fade" id="è©³æƒ…å½ˆçª—" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered">
            <div class="modal-content">
                <div class="å°è¦½ç®­é ­ ç®­é ­-å·¦" onclick="åˆ‡æ›ç›¸é„°èª¿é…’(-1)"><i class="bi bi-chevron-left"></i></div>
                <div class="å°è¦½ç®­é ­ ç®­é ­-å³" onclick="åˆ‡æ›ç›¸é„°èª¿é…’(1)"><i class="bi bi-chevron-right"></i></div>
                <div class="modal-header">
                    <h5 class="modal-title" id="å½ˆçª—-æ¨™é¡Œ">Cocktail Name</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <img src="" alt="" class="å½ˆçª—å¤§åœ–" id="å½ˆçª—-åœ–ç‰‡">
                    <div class="å½ˆçª—å³å´è³‡è¨Š">
                        <div class="d-flex gap-2 mb-3">
                            <span class="è‡ªè¨‚æ¨™ç±¤" id="å½ˆçª—-åŸºé…’">Base</span>
                            <span class="è‡ªè¨‚æ¨™ç±¤" id="å½ˆçª—-æ¿ƒåº¦">ABV</span>
                            <span class="è‡ªè¨‚æ¨™ç±¤" id="å½ˆçª—-å£æ„Ÿ">Taste</span>
                        </div>

                        <h6 class="text-white-50">ææ–™ï¼š</h6>
                        <p id="å½ˆçª—-ææ–™åˆ—è¡¨" class="mb-4 text-light"></p>

                        <div class="åˆ†é åˆ‡æ›å€">
                            <button class="åˆ†é æŒ‰éˆ• å•Ÿå‹•" id="éˆ•-æ•…äº‹" onclick="åˆ‡æ›åˆ†é ('æ•…äº‹')">ğŸ“– éˆé­‚æ•…äº‹</button>
                            <button class="åˆ†é æŒ‰éˆ•" id="éˆ•-æ­¥é©Ÿ" onclick="åˆ‡æ›åˆ†é ('æ­¥é©Ÿ')">ğŸ¸ è£½ä½œç´°ç¯€</button>
                        </div>

                        <p class="æ•…äº‹å…§æ–‡" id="å½ˆçª—-æ•…äº‹æ–‡å­—"></p>

                        <div id="å½ˆçª—-æ­¥é©Ÿå€" class="æ­¥é©Ÿæ¸…å–®">
                            <div class="åœ–æ¨™å·¥å…·åˆ—">
                                <span class="å·¥å…·æ¨™ç±¤" id="æ¨™ç±¤-æŠ€æ³•"><i class="bi bi-funnel"></i> æŠ€æ³•</span>
                                <span class="å·¥å…·æ¨™ç±¤" id="æ¨™ç±¤-æ¯å‹"><i class="bi bi-cup-straw"></i> æ¯å‹</span>
                            </div>
                            <div id="æ­¥é©Ÿåˆ—è¡¨å®¹å™¨">
                            </div>
                        </div>

                        <div id="ç™»å…¥é™å®šåŠŸèƒ½å€" class="mt-4 border-top border-secondary pt-3"></div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="å–®æŠ½é‡é¸æŒ‰éˆ•" type="button" class="btn btn-outline-light rounded-pill px-4" onclick="éš¨æ©Ÿé¸é…’é‚è¼¯()"
                        style="display: none;">
                        <i class="bi bi-shuffle me-2"></i> æ²’æ„Ÿè¦ºï¼Ÿéš¨æ©Ÿå†æŠ½ä¸€æ¯
                    </button>
                </div>
            </div>
        </div>
    </div>






    <div class="modal fade" id="å¥—é¤å½ˆçª—" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-xl modal-dialog-centered">
            <div class="modal-content" style="background-color: #1a1a1a; border: 1px solid var(--å¥¢è¯é‡‘);">
                <div class="modal-header border-bottom border-secondary">
                    <div>
                        <h5 class="modal-title é‡‘è‰²æ–‡å­—" style="letter-spacing: 2px;">TONIGHT'S OMAKASE</h5>
                        <small class="text-white-50">ç‚ºæ‚¨ç²¾å¿ƒæ­é…çš„å¾®é†ºä¸‰éƒ¨æ›²</small>
                    </div>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-4">
                    <div class="row g-4" id="å¥—é¤å…§å®¹å®¹å™¨"></div>
                    <div class="text-center mt-5">
                        <p class="text-white-50 fst-italic" style="font-size: 0.9rem;">
                            <i class="bi bi-info-circle me-1"></i> å»ºè­°ä¾ç…§é †åºé£²ç”¨ï¼Œæ„Ÿå—é¢¨å‘³çš„èµ·ä¼èˆ‡å±¤æ¬¡ã€‚
                        </p>
                    </div>
                </div>
                <div class="modal-footer border-secondary">
                    <button type="button" class="btn btn-outline-warning rounded-pill px-4" onclick="ç”Ÿæˆå¾®é†ºå¥—é¤()">
                        <i class="bi bi-arrow-clockwise me-2"></i> ä¸æ»¿æ„ï¼Ÿæ›ä¸€çµ„èœå–®
                    </button>
                </div>
            </div>
        </div>
    </div>


    <!-- é æ•¸åˆ‡æ› -->

    <div class="container mt-5 mb-5">
        <div class="row justify-content-center">
            <div class="col-auto d-flex align-items-center gap-3 åˆ†é å®¹å™¨">
                <button class="btn åˆ†é æŒ‰éˆ•" id="åˆ†é -ä¸Šä¸€é " onclick="åˆ‡æ›åˆ†é (ç•¶å‰é ç¢¼ - 1)">ä¸Šä¸€é </button>

                <div class="é ç¢¼è¼¸å…¥çµ„">
                    <input type="text" id="é ç¢¼è¼¸å…¥æ¡†" class="é ç¢¼è¼¸å…¥" value="1" inputmode="numeric" pattern="[0-9]*"
                        onchange="è™•ç†è¼¸å…¥è·³è½‰(this.value)">
                    <span class="ç¸½é æ•¸é¡¯ç¤º">/ <span id="ç¸½é æ•¸æ–‡å­—">1</span></span>
                </div>

                <button class="btn åˆ†é æŒ‰éˆ•" id="åˆ†é -ä¸‹ä¸€é " onclick="åˆ‡æ›åˆ†é (ç•¶å‰é ç¢¼ + 1)">ä¸‹ä¸€é </button>
            </div>
        </div>
    </div>






    <!-- é å°¾å…§å®¹ -->


    <footer class="é å°¾å®¹å™¨">
        <div class="container">
            <div class="row g-4">
                <div class="col-md-4">
                    <h5 class="é å°¾æ¨™é¡Œ">å¾®é†ºåœ–æ›¸é¤¨</h5>
                    <p class="é å°¾æ–‡å­—">æ¯ä¸€æ¯é…’éƒ½æ˜¯ä¸€å€‹æ•…äº‹ï¼Œæˆ‘å€‘ä¸åªæ˜¯èª¿é…’ï¼Œæˆ‘å€‘æ˜¯åœ¨æ”¶è—æ·±å¤œè£¡çš„é‚£äº›éˆé­‚ç‰‡æ®µã€‚</p>
                </div>

                <div class="col-md-4">
                    <h5 class="é å°¾æ¨™é¡Œ">å¿«é€ŸåŠŸèƒ½</h5>
                    <ul class="list-unstyled">
                        <li><a href="https://m.uber.com/ul" target="_blank" class="é å°¾é€£çµ">ä¸€éµå«è»Š (Uber)</a></li>
                        <li><a href="https://www.google.com/maps/search/%E9%85%92%E5%90%A7" target="_blank"
                                class="é å°¾é€£çµ">æœå°‹é™„è¿‘é…’å§</a></li>
                        <li><a href="http://www.google.com/maps/search/%E4%BE%BF%E5%88%A9%E5%95%86%E5%BA%97"
                                target="_blank" class="é å°¾é€£çµ">æœå°‹é™„è¿‘è¶…å•†</a></li>
                        <li><a href="https://mail.google.com/mail/u/0/?tab=rm&ogbl#inbox?compose=GTvVlcSMTSDwmtVnvhXZgVPnxHRmGqNbHsXkXppXJKPQGBwbkvqxsznvzNfKNVcjMHXDVmnXZjjWQ"
                                class="é å°¾é€£çµ">è¯çµ¡æˆ‘å€‘ (Gmail)</a></li>
                        <li><a href="https://www.instagram.com/b20011006/" target="_blank" class="é å°¾é€£çµ">è¿½è¹¤æˆ‘å€‘çš„ IG</a>
                        </li>
                    </ul>
                </div>

                <div class="col-md-4 text-md-end">
                    <h5 class="é å°¾æ¨™é¡Œ">é£²é…’é ˆçŸ¥</h5>
                    <p class="é å°¾è­¦èª">é£²é…’éé‡ï¼Œæœ‰ç¤™å¥åº·ã€‚æœªæ»¿åå…«æ­²ç¦æ­¢é£²é…’ã€‚</p>
                    <p class="é å°¾è­¦èª">å–é…’ä¸é–‹è»Šï¼Œé–‹è»Šä¸å–é…’ã€‚</p>
                    <div class="mt-3">
                        <small class="text-secondary">Â© 2026 The Tipsy Library. All rights reserved.</small>
                    </div>
                </div>
            </div>
        </div>
    </footer>


    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>


    <!-- ç™»å…¥çš„å½ˆå‡ºå¼å¡ç‰‡ -->

    <div class="modal fade" id="ç™»å…¥å½ˆçª—" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content å¥¢è¯æ¯›ç»ç’ƒå¡ç‰‡">
                <div class="modal-header border-0">
                    <h5 class="modal-title é‡‘è‰²æ–‡å­—" style="letter-spacing: 3px;">MEMBER LOGIN</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                    <div id="ä¸€èˆ¬ç™»å…¥å€å¡Š">
                        <div class="mb-4">
                            <label class="ç™½è‰²é€æ˜æ–‡å­— å°å­—é«” mb-2 d-block">é›»å­ä¿¡ç®± (Email)</label>
                            <input type="email" id="ç™»å…¥-ä¿¡ç®±" class="è¡¨å–®å…ƒä»¶ æ¯›ç»ç’ƒè¼¸å…¥æ¡† text-white p-2 w-100"
                                placeholder="è«‹è¼¸å…¥æ‚¨çš„ Email">
                        </div>
                        <div class="mb-4">
                            <label class="ç™½è‰²é€æ˜æ–‡å­— å°å­—é«” mb-2 d-block">é€šé—œå¯†èª (Password)</label>
                            <input type="password" id="ç™»å…¥-å¯†ç¢¼" class="è¡¨å–®å…ƒä»¶ æ¯›ç»ç’ƒè¼¸å…¥æ¡† text-white p-2 w-100"
                                placeholder="è«‹è¼¸å…¥å¯†ç¢¼">
                        </div>
                        <button class="æŒ‰éˆ• å¥¢è¯é‡‘å¡«æ»¿æŒ‰éˆ• å¯¬åº¦ç™¾åˆ†ç™¾ p-2" onclick="åŸ·è¡Œå½ˆçª—ç™»å…¥()">
                            ç¢ºèªç™»å…¥
                        </button>
                        <div class="text-end mt-2">
                            <a href="#" class="text-white-50 å°å­—é«”" style="text-decoration: none;"
                                onclick="åˆ‡æ›å¿˜è¨˜å¯†ç¢¼è¡¨å–®(true)">å¿˜è¨˜å¯†ç¢¼ï¼Ÿ</a>
                        </div>

                        <div class="mt-3 text-center">
                            <span class="text-white-50 å°å­—é«”">æˆ–ä½¿ç”¨ç¬¬ä¸‰æ–¹ç™»å…¥</span>
                        </div>
                        <div class="mt-2 d-flex justify-content-center">
                            <div id="g_id_onload"
                                data-client_id="32725652104-7gn6vkkqvsg79ps5r40jpkqmpfm5p1an.apps.googleusercontent.com"
                                data-context="signin" data-ux_mode="popup" data-callback="è™•ç†Googleç™»å…¥å›æ‡‰"
                                data-auto_prompt="false">
                            </div>
                            <div class="g_id_signin" data-type="standard" data-shape="rectangular"
                                data-theme="filled_black" data-text="signin_with" data-size="large"
                                data-logo_alignment="left">
                            </div>
                        </div>

                        <div class="text-center mt-3">
                            <small class="ç™½è‰²é€æ˜æ–‡å­—">é‚„æ²’åŠ å…¥åœ–æ›¸é¤¨ï¼Ÿ
                                <a href="#" class="é‡‘è‰²æ–‡å­—" style="text-decoration: none;" data-bs-toggle="modal"
                                    data-bs-target="#è¨»å†Šå½ˆçª—">ç«‹å³è¨»å†Š</a>
                            </small>
                        </div>
                    </div>

                    <!-- å¿˜è¨˜å¯†ç¢¼å€å¡Š (é è¨­éš±è—) -->
                    <div id="å¿˜è¨˜å¯†ç¢¼å€å¡Š" style="display: none;">
                        <div class="mb-4 text-center">
                            <p class="text-white-50 å°å­—é«”">è«‹è¼¸å…¥æ‚¨è¨»å†Šæ™‚ä½¿ç”¨çš„ Emailï¼Œæˆ‘å€‘å°‡å¯„é€é‡è¨­å¯†ç¢¼çš„é€£çµçµ¦æ‚¨ã€‚</p>
                        </div>
                        <div class="mb-4">
                            <label class="ç™½è‰²é€æ˜æ–‡å­— å°å­—é«” mb-2 d-block">é›»å­ä¿¡ç®± (Email)</label>
                            <input type="email" id="å¿˜è¨˜å¯†ç¢¼-ä¿¡ç®±" class="è¡¨å–®å…ƒä»¶ æ¯›ç»ç’ƒè¼¸å…¥æ¡† p-2 text-white w-100"
                                placeholder="è«‹è¼¸å…¥æ‚¨çš„ Email">
                        </div>
                        <button class="æŒ‰éˆ• å¥¢è¯é‡‘å¡«æ»¿æŒ‰éˆ• å¯¬åº¦ç™¾åˆ†ç™¾ p-2" id="ç™¼é€é‡è¨­ä¿¡æŒ‰éˆ•" onclick="åŸ·è¡Œå¿˜è¨˜å¯†ç¢¼()">
                            ç™¼é€é‡è¨­ä¿¡ä»¶
                        </button>
                        <div class="text-center mt-4">
                            <a href="#" class="text-white-50 å°å­—é«”" style="text-decoration: none;"
                                onclick="åˆ‡æ›å¿˜è¨˜å¯†ç¢¼è¡¨å–®(false)"><i class="bi bi-arrow-left me-1"></i> è¿”å›ç™»å…¥</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="è¨»å†Šå½ˆçª—" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content å¥¢è¯æ¯›ç»ç’ƒå¡ç‰‡">
                <div class="modal-header border-0">
                    <h5 class="modal-title é‡‘è‰²æ–‡å­—" style="letter-spacing: 3px;">SIGN UP</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                    <div class="mb-3">
                        <label class="ç™½è‰²é€æ˜æ–‡å­— å°å­—é«” mb-2 d-block">æ‚¨çš„ç¨±å‘¼ (Username)</label>
                        <input type="text" id="è¨»å†Š-å¸³è™Ÿ" class="è¡¨å–®å…ƒä»¶ æ¯›ç»ç’ƒè¼¸å…¥æ¡†" placeholder="ä¾‹ï¼šé…’ç¥æˆ´å¥§å°¼ç´¢æ–¯">
                    </div>
                    <div class="mb-3">
                        <label class="ç™½è‰²é€æ˜æ–‡å­— å°å­—é«” mb-2 d-block">é›»å­ä¿¡ç®± (Email)</label>
                        <input type="email" id="è¨»å†Š-ä¿¡ç®±" class="è¡¨å–®å…ƒä»¶ æ¯›ç»ç’ƒè¼¸å…¥æ¡†" placeholder="example@email.com">
                    </div>
                    <div class="mb-4">
                        <label class="ç™½è‰²é€æ˜æ–‡å­— å°å­—é«” mb-2 d-block">è¨­å®šå¯†ç¢¼ (Password)</label>
                        <input type="password" id="è¨»å†Š-å¯†ç¢¼" class="è¡¨å–®å…ƒä»¶ æ¯›ç»ç’ƒè¼¸å…¥æ¡†" placeholder="è«‹è¨­å®š 6 ä½æ•¸ä»¥ä¸Šå¯†ç¢¼">
                    </div>
                    <button class="æŒ‰éˆ• å¥¢è¯é‡‘å¡«æ»¿æŒ‰éˆ• å¯¬åº¦ç™¾åˆ†ç™¾" onclick="åŸ·è¡ŒAPIè¨»å†Š()">
                        ç¢ºèªè¨»å†Š
                    </button>
                    <div class="text-center mt-3">
                        <small class="ç™½è‰²é€æ˜æ–‡å­—">å·²ç¶“æœ‰å¸³è™Ÿäº†ï¼Ÿ
                            <a href="#" class="é‡‘è‰²æ–‡å­—" style="text-decoration: none;" data-bs-toggle="modal"
                                data-bs-target="#ç™»å…¥å½ˆçª—">ç›´æ¥ç™»å…¥</a>
                        </small>
                    </div>
                </div>
            </div>
        </div>
    </div>



    <div id="é€šçŸ¥æ¡†"></div>


    <div class="é…’é¡è­¦èªå›ºå®šæ¬„">
        <div class="è­¦èªå®¹å™¨">
            <span class="è­¦èªæ–‡å­—">ç¦æ­¢é…’é§•</span>
            <span class="è­¦èªåˆ†éš”ç·š">|</span>
            <span class="è­¦èªæ–‡å­—">é£²é…’éé‡ï¼Œæœ‰å®³å¥åº·</span>
        </div>
    </div>

    <!-- è¨»å†Šå½ˆçª— -->

    <div class="modal fade" id="è¨»å†Šå½ˆçª—" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content å¥¢è¯æ¯›ç»ç’ƒå¡ç‰‡">
                <div class="modal-header border-0">
                    <h5 class="modal-title é‡‘è‰²æ–‡å­—" style="letter-spacing: 3px;">SIGN UP</h5>
                    <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal"
                        aria-label="Close"></button>
                </div>
                <div class="modal-body p-4">
                    <div class="mb-3">
                        <label class="ç™½è‰²é€æ˜æ–‡å­— å°å­—é«” mb-2 d-block">æ‚¨çš„ç¨±å‘¼ (Username)</label>
                        <input type="text" id="è¨»å†Š-å¸³è™Ÿ" class="è¡¨å–®å…ƒä»¶ æ¯›ç»ç’ƒè¼¸å…¥æ¡†" placeholder="ä¾‹ï¼šé…’ç¥æˆ´å¥§å°¼ç´¢æ–¯">
                    </div>
                    <div class="mb-3">
                        <label class="ç™½è‰²é€æ˜æ–‡å­— å°å­—é«” mb-2 d-block">é›»å­ä¿¡ç®± (Email)</label>
                        <input type="email" id="è¨»å†Š-ä¿¡ç®±" class="è¡¨å–®å…ƒä»¶ æ¯›ç»ç’ƒè¼¸å…¥æ¡†" placeholder="example@email.com">
                    </div>
                    <div class="mb-4">
                        <label class="ç™½è‰²é€æ˜æ–‡å­— å°å­—é«” mb-2 d-block">è¨­å®šå¯†ç¢¼ (Password)</label>
                        <input type="password" id="è¨»å†Š-å¯†ç¢¼" class="è¡¨å–®å…ƒä»¶ æ¯›ç»ç’ƒè¼¸å…¥æ¡†" placeholder="è«‹è¨­å®š 6 ä½æ•¸ä»¥ä¸Šå¯†ç¢¼">
                    </div>
                    <button class="æŒ‰éˆ• å¥¢è¯é‡‘å¡«æ»¿æŒ‰éˆ• å¯¬åº¦ç™¾åˆ†ç™¾" onclick="åŸ·è¡ŒAPIè¨»å†Š()">
                        ç¢ºèªè¨»å†Š
                    </button>
                    <div class="text-center mt-3">
                        <small class="ç™½è‰²é€æ˜æ–‡å­—">å·²ç¶“æœ‰å¸³è™Ÿäº†ï¼Ÿ <a href="#" class="é‡‘è‰²æ–‡å­—" style="text-decoration: none;"
                                data-bs-toggle="modal" data-bs-target="#ç™»å…¥å½ˆçª—">ç›´æ¥ç™»å…¥</a></small>
                    </div>
                </div>
            </div>
        </div>
    </div>









    <script>

        // ==========================================
        // ğŸ”¥ [å…¨åŸŸè¨­å®š] é€£ç·šèˆ‡è®Šæ•¸
        // ==========================================

        // 1. è¨­å®šå¾Œç«¯ API ç¶²å€ (ç›®å‰è¨­å®šç‚ºé€£ç·šåˆ°ä½ æœ¬åœ°ç«¯)
        c/* onst API_URL = "http://localhost:3000/api"; */
        // å¦‚æœè¦é€£ç·šåˆ°é›²ç«¯ï¼Œè«‹æŠŠä¸Šé¢é‚£è¡Œè¨»è§£æ‰ï¼Œæ”¹ç”¨ä¸‹é¢é€™è¡Œï¼š
        const API_URL = "https://tipsy-server.onrender.com/api";

        // 2. è³‡æ–™åº«èˆ‡ç‹€æ…‹è®Šæ•¸
        let cocktails = [];        // å­˜æ”¾å¾å¾Œç«¯æŠ“å›ä¾†çš„é…’å–®
        let ç•¶å‰é¡¯ç¤ºåˆ—è¡¨ = [];      // ç›®å‰ç•«é¢ä¸Šçœ‹åˆ°çš„é…’ (å«ç¯©é¸å¾Œ)
        let ç•¶å‰é…’æ¯ID = null;      // ç›®å‰æ‰“é–‹çš„æ˜¯å“ªä¸€æ¯
        let ç•¶å‰é ç¢¼ = 1;
        const æ¯é æ•¸é‡ = 16;
        const ç¶²æ ¼å®¹å™¨ = document.getElementById('é›å°¾é…’å±•ç¤ºç¶²æ ¼');

        // ==========================================
        // ğŸ”¥ [æ ¸å¿ƒåŠŸèƒ½] åˆå§‹åŒ–èˆ‡è³‡æ–™ä¸²æ¥ (Fetch)
        // ==========================================

        // 1. ç¶²é è¼‰å…¥æ™‚è¦åšçš„äº‹
        window.onload = async function () {
            // A. æª¢æŸ¥æœ‰æ²’æœ‰ç™»å…¥é (æ”¹è®€å– Token)
            const token = localStorage.getItem('tipsy_token');
            const userStr = localStorage.getItem('tipsy_user');

            if (token && userStr) {
                const user = JSON.parse(userStr);
                console.log("ğŸ‘‹ æ­¡è¿å›ä¾†ï¼Œ", user.username);
                åˆ‡æ›è‡³æ­¡è¿ä»‹é¢(user);

                // B. å¦‚æœæœ‰ç™»å…¥ï¼Œå»å¾Œç«¯åŒæ­¥æœ€æ–°çš„ã€Œæ”¶è—æ¸…å–®ã€
                await åŒæ­¥æœ€æ–°æ”¶è—(token);
            }

            // C. æŠ“å–é…’å–®è³‡æ–™
            ä¸²æ¥å¾Œç«¯è³‡æ–™();
        };

        // 2. å‘å¾Œç«¯æŠ“å–æ‰€æœ‰é…’å–® (GET)
        async function ä¸²æ¥å¾Œç«¯è³‡æ–™() {
            try {
                const response = await fetch(`${API_URL}/cocktails`);
                cocktails = await response.json();
                console.log("âœ… æˆåŠŸè¼‰å…¥é…’å–®:", cocktails.length, "æ¯");

                // é è¨­é¡¯ç¤ºå…¨éƒ¨
                ç•¶å‰é¡¯ç¤ºåˆ—è¡¨ = cocktails;
                æ¸²æŸ“é…’å¡(ç•¶å‰é¡¯ç¤ºåˆ—è¡¨);

            } catch (error) {
                console.error("âŒ é€£ç·šå¤±æ•—:", error);
                ç¶²æ ¼å®¹å™¨.innerHTML = `
            <div class="text-center mt-5 text-white">
                <h3>é€£ç·šå¤±æ•— ğŸ˜“</h3>
                <p>è«‹ç¢ºèªä½ çš„å¾Œç«¯ä¼ºæœå™¨ (node server.js) å·²ç¶“å•Ÿå‹•ï¼</p>
            </div>`;
            }
        }

        // 3. åŒæ­¥æ”¶è— (ç¢ºä¿æ‰‹æ©Ÿå’Œé›»è…¦æ”¶è—åŒæ­¥)
        async function åŒæ­¥æœ€æ–°æ”¶è—(token) {
            try {
                const res = await fetch(`${API_URL}/me`, {
                    headers: { 'Authorization': `Bearer ${token}` }
                });
                const data = await res.json();
                if (data.success) {
                    localStorage.setItem('æˆ‘çš„æ”¶è—æ¸…å–®', JSON.stringify(data.user.favorites));
                    localStorage.setItem('tipsy_user', JSON.stringify(data.user));
                }
            } catch (err) {
                console.error("åŒæ­¥æ”¶è—å¤±æ•—ï¼Œå¯èƒ½ Token éæœŸ", err);
                è™•ç†ç™»å‡º(); // éæœŸå°±ç™»å‡º
            }
        }

        // ==========================================
        // ğŸ”¥ [æœƒå“¡ç³»çµ±] ç™»å…¥èˆ‡è¨»å†Šé‚è¼¯
        // ==========================================

        // 1. åŸ·è¡Œè¨»å†Š (API)
        async function åŸ·è¡ŒAPIè¨»å†Š() {
            const username = document.getElementById('è¨»å†Š-å¸³è™Ÿ').value;
            const email = document.getElementById('è¨»å†Š-ä¿¡ç®±').value;
            const password = document.getElementById('è¨»å†Š-å¯†ç¢¼').value;

            if (!username || !email || !password) {
                alert("è«‹å¡«å¯«å®Œæ•´è³‡è¨Š"); return;
            }

            try {
                const res = await fetch(`${API_URL}/register`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ username, email, password })
                });
                const data = await res.json();

                if (data.success) {
                    alert("ğŸ‰ è¨»å†ŠæˆåŠŸï¼æ­¡è¿åŠ å…¥å¾®é†ºåœ–æ›¸é¤¨");
                    å®Œæˆç™»å…¥ç¨‹åº(data); // è¨»å†Šå¾Œç›´æ¥ç™»å…¥
                    bootstrap.Modal.getInstance(document.getElementById('è¨»å†Šå½ˆçª—')).hide();
                } else {
                    alert("è¨»å†Šå¤±æ•—ï¼š" + data.message);
                }
            } catch (err) {
                alert("ç³»çµ±éŒ¯èª¤ï¼Œè«‹æª¢æŸ¥å¾Œç«¯é€£ç·š");
            }
        }

        // 1.5 å¿˜è¨˜å¯†ç¢¼å‰ç«¯åˆ‡æ›é‚è¼¯
        function åˆ‡æ›å¿˜è¨˜å¯†ç¢¼è¡¨å–®(showForgot) {
            const loginBlock = document.getElementById('ä¸€èˆ¬ç™»å…¥å€å¡Š');
            const forgotBlock = document.getElementById('å¿˜è¨˜å¯†ç¢¼å€å¡Š');
            const title = document.querySelector('#ç™»å…¥å½ˆçª— .modal-title');

            if (showForgot) {
                loginBlock.style.display = 'none';
                forgotBlock.style.display = 'block';
                title.innerText = 'FORGOT PASSWORD';
            } else {
                loginBlock.style.display = 'block';
                forgotBlock.style.display = 'none';
                title.innerText = 'MEMBER LOGIN';
            }
        }

        async function åŸ·è¡Œå¿˜è¨˜å¯†ç¢¼() {
            const email = document.getElementById('å¿˜è¨˜å¯†ç¢¼-ä¿¡ç®±').value;
            if (!email) {
                alert("è«‹è¼¸å…¥ Email");
                return;
            }

            const btn = document.getElementById('ç™¼é€é‡è¨­ä¿¡æŒ‰éˆ•');
            const originalText = btn.innerText;
            btn.innerText = "å¯„é€ä¸­...";
            btn.disabled = true;

            try {
                const res = await fetch(`${API_URL}/forgot-password`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email })
                });
                const data = await res.json();

                if (res.ok && data.success) {
                    // é¡¯ç¤ºæˆåŠŸè¨Šæ¯ä¸¦è¿”å›ç™»å…¥
                    é¡¯ç¤ºé€šçŸ¥(data.message || "é‡è¨­ä¿¡ä»¶å·²å¯„å‡º");
                    åˆ‡æ›å¿˜è¨˜å¯†ç¢¼è¡¨å–®(false);
                    document.getElementById('å¿˜è¨˜å¯†ç¢¼-ä¿¡ç®±').value = ""; // æ¸…ç©º
                } else {
                    alert("ç™¼é€å¤±æ•—ï¼š" + (data.message || "æœªçŸ¥éŒ¯èª¤"));
                }
            } catch (err) {
                alert("é€£ç·šéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦");
            } finally {
                btn.innerText = originalText;
                btn.disabled = false;
            }
        }

        // 2. åŸ·è¡Œç™»å…¥ (API)
        async function åŸ·è¡Œå½ˆçª—ç™»å…¥() {
            const email = document.getElementById('ç™»å…¥-ä¿¡ç®±').value;
            const password = document.getElementById('ç™»å…¥-å¯†ç¢¼').value;

            if (!email || !password) {
                alert("è«‹è¼¸å…¥ Email å’Œå¯†ç¢¼"); return;
            }

            try {
                const res = await fetch(`${API_URL}/login`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ email, password })
                });
                const data = await res.json();

                if (data.success) {
                    å®Œæˆç™»å…¥ç¨‹åº(data);
                    bootstrap.Modal.getInstance(document.getElementById('ç™»å…¥å½ˆçª—')).hide();
                } else {
                    alert("ç™»å…¥å¤±æ•—ï¼š" + data.message);
                }
            } catch (err) {
                alert("ç™»å…¥é€£ç·šéŒ¯èª¤ï¼Œè«‹ç¨å¾Œå†è©¦");
            }
        }

        // 3. ç™»å…¥æˆåŠŸå¾Œçš„è™•ç† (å­˜ Token)
        function å®Œæˆç™»å…¥ç¨‹åº(data) {
            localStorage.setItem('tipsy_token', data.token);
            localStorage.setItem('tipsy_user', JSON.stringify(data.user));
            // å¾Œç«¯å›å‚³çš„ favorites æ‰æ˜¯æœ€æ–°çš„
            localStorage.setItem('æˆ‘çš„æ”¶è—æ¸…å–®', JSON.stringify(data.user.favorites || []));

            åˆ‡æ›è‡³æ­¡è¿ä»‹é¢(data.user);
            é¡¯ç¤ºé€šçŸ¥(`æ­¡è¿å›ä¾†ï¼Œ${data.user.username}`);
            æ¸²æŸ“é…’å¡(ç•¶å‰é¡¯ç¤ºåˆ—è¡¨); // é‡ç•«ç•«é¢ï¼Œè®“æ„›å¿ƒäº®èµ·ä¾†
        }

        // 4. ç™»å‡º
        function è™•ç†ç™»å‡º() {
            localStorage.removeItem('tipsy_token');
            localStorage.removeItem('tipsy_user');
            localStorage.removeItem('æˆ‘çš„æ”¶è—æ¸…å–®');
            location.reload();
        }

        // 5. æ›´æ–°å´é‚Šæ¬„é¡¯ç¤º
        function åˆ‡æ›è‡³æ­¡è¿ä»‹é¢(user) {
            const æœƒå“¡å€å¡Š = document.querySelector('.æœƒå“¡ä¸­å¿ƒå€');
            const æ”¶è—æ•¸ = JSON.parse(localStorage.getItem('æˆ‘çš„æ”¶è—æ¸…å–®'))?.length || 0;

            const ä¹¾çˆ¹æ¨™ç±¤ = user.isSponsor ? '<span class="badge" style="background-color: var(--å¥¢è¯é‡‘); color: #000; margin-left: 8px;">ğŸ‘‘ åœ–æ›¸é¤¨ä¹¾çˆ¹</span>' : '';

            æœƒå“¡å€å¡Š.innerHTML = `
      <div class="æ­¡è¿å®¹å™¨" style="padding: 10px 0;">
        <h6 class="é‡‘è‰²æ–‡å­—" style="margin-bottom: 5px; display: flex; align-items: center;">æ™šå®‰ï¼Œ${user.username}${ä¹¾çˆ¹æ¨™ç±¤}</h6>
        <button class="btn p-0 text-start" onclick="åªé¡¯ç¤ºæ”¶è—()" style="border:none; background:none;">
            <p class="ç™½è‰²é€æ˜æ–‡å­— å°å­—é«”" style="font-size: 0.9rem; cursor: pointer;">
                å·²æ”¶è— <span class="é‡‘è‰²æ–‡å­—" style="text-decoration: underline;">${æ”¶è—æ•¸}</span> æ¯èª¿é…’
            </p>
        </button>
        <div class="mt-2">
            <a href="#" class="å°è¦½é€£çµ ç™½è‰²æ–‡å­—" onclick="è™•ç†ç™»å‡º()">
                <i class="bi bi-box-arrow-right me-2"></i> ç™»å‡º
            </a>
        </div>
      </div>
    `;
        }

        // ==========================================
        // ğŸ”¥ [ç•«é¢æ¸²æŸ“] æ¸²æŸ“ã€åˆ†é ã€ç¯©é¸
        // ==========================================

        // 1. æ¸²æŸ“é…’å¡ (ç•«ç•«é¢) - å·²ä¿®æ­£ ID å•é¡Œ
        function æ¸²æŸ“é…’å¡(data) {
            ç•¶å‰é¡¯ç¤ºåˆ—è¡¨ = data;
            const ç¸½æ•¸ = data.length;
            const ç¸½é æ•¸ = Math.ceil(ç¸½æ•¸ / æ¯é æ•¸é‡) || 1;

            // æ›´æ–°é ç¢¼ UI
            const ç¸½é æ•¸æ–‡å­— = document.getElementById('ç¸½é æ•¸æ–‡å­—');
            if (ç¸½é æ•¸æ–‡å­—) ç¸½é æ•¸æ–‡å­—.innerText = ç¸½é æ•¸;
            const é ç¢¼è¼¸å…¥æ¡† = document.getElementById('é ç¢¼è¼¸å…¥æ¡†');
            if (é ç¢¼è¼¸å…¥æ¡†) é ç¢¼è¼¸å…¥æ¡†.value = ç•¶å‰é ç¢¼;

            // è¨ˆç®—é€™ä¸€é è¦é¡¯ç¤ºå“ªäº›
            const é–‹å§‹ = (ç•¶å‰é ç¢¼ - 1) * æ¯é æ•¸é‡;
            const çµæŸ = é–‹å§‹ + æ¯é æ•¸é‡;
            const é€™ä¸€é çš„å…§å®¹ = data.slice(é–‹å§‹, çµæŸ);

            ç¶²æ ¼å®¹å™¨.innerHTML = ''; // æ¸…ç©ºèˆŠçš„

            if (é€™ä¸€é çš„å…§å®¹.length === 0) {
                ç¶²æ ¼å®¹å™¨.innerHTML = '<div class="text-white text-center w-100 mt-5">æ‰¾ä¸åˆ°ç¬¦åˆæ¢ä»¶çš„èª¿é…’ã€‚</div>';
                return;
            }

            // é–‹å§‹ç•«å¡ç‰‡
            é€™ä¸€é çš„å…§å®¹.forEach(drink => {
                const col = document.createElement('div');
                col.className = 'col-6 col-md-4 col-lg-3';

                // åˆ¤æ–·æ˜¯å¦æ”¶è— (å¾ LocalStorage è®€å–)
                const æ”¶è—æ¸…å–® = JSON.parse(localStorage.getItem('æˆ‘çš„æ”¶è—æ¸…å–®')) || [];
                const isCollected = æ”¶è—æ¸…å–®.includes(drink._id);
                const heartClass = isCollected ? 'å·²æ”¶è—' : '';
                const heartIcon = isCollected ? 'bi-heart-fill text-danger' : 'bi-heart';

                col.innerHTML = `
                <div class="card ç‰¹èª¿é…’å¡">
                    <div class="position-relative">
                        <img src="${drink.img || 'https://via.placeholder.com/300x400?text=No+Image'}" class="card-img-top" alt="${drink.name}">
                        <!-- æ„›å¿ƒæŒ‰éˆ• -->
                        <div class="æ„›å¿ƒæŒ‰éˆ• ${heartClass}" onclick="event.stopPropagation(); é»æ“Šæ”¶è—('${drink._id}', this)">
                            <i class="bi ${heartIcon} æ„›å¿ƒåœ–ç¤º"></i>
                        </div>
                    </div>
                    <div class="card-body" onclick="é–‹å•Ÿè©³æƒ…(${drink.id})">
                        <h5 class="card-title">${drink.name}</h5>
                        <p class="å¡ç‰‡è³‡è¨Šå°å­— mb-0">${drink.abvDisplay || ''} Â· ${drink.taste || ''}</p>
                    </div>
                </div>
                `;
                ç¶²æ ¼å®¹å™¨.appendChild(col);
            });
        }

        // ==========================================
        // ğŸ’³ è´ŠåŠ©æ”¯æŒç³»çµ± (Stripe å‰ç«¯é›™é‡é©—è­‰)
        // ==========================================

        // 1. åˆ‡æ›å´é‚Šæ¬„çš„ UI ä»‹é¢
        // 1. åˆ‡æ›å´é‚Šæ¬„çš„ UI ä»‹é¢ (åŠ å…¥ç™»å…¥æ””æˆª)
        function åˆ‡æ›è´ŠåŠ©ä»‹é¢(è¦é¡¯ç¤º) {
            if (è¦é¡¯ç¤º) {
                // ğŸ”¥ æ””æˆªé»ï¼šæª¢æŸ¥æ˜¯å¦æœ‰ç™»å…¥
                const token = localStorage.getItem('tipsy_token');
                if (!token) {
                    // æ²’ç™»å…¥ï¼šé—œé–‰å´é‚Šæ¬„ -> é¡¯ç¤ºæç¤º -> å½ˆå‡ºç™»å…¥æ¡†
                    bootstrap.Offcanvas.getInstance(document.getElementById('å´é‚Šé¸å–®æœ¬é«”')).hide();
                    alert("æ„Ÿè¬æ”¯æŒï¼è«‹å…ˆç™»å…¥ï¼Œè®“æˆ‘å€‘ç‚ºæ‚¨çš„å¸³è™Ÿæ›ä¸Šå°ˆå±¬ä¹¾çˆ¹å‹³ç«  ğŸ¥ƒ");
                    new bootstrap.Modal(document.getElementById('ç™»å…¥å½ˆçª—')).show();
                    return; // çµ‚æ­¢å¾ŒçºŒå‹•ä½œï¼Œä¸åˆ‡æ›ç•«é¢
                }
            }

            // å·²ç™»å…¥æˆ–æº–å‚™é—œé–‰ï¼šåŸ·è¡ŒåŸæœ‰çš„åˆ‡æ›é‚è¼¯
            const é¸å–®å€æ®µ = document.querySelector('#å´é‚Šé¸å–®æœ¬é«” > .offcanvas-body:not(#è´ŠåŠ©ä»‹é¢)');
            const è´ŠåŠ©å€æ®µ = document.getElementById('è´ŠåŠ©ä»‹é¢');

            if (è¦é¡¯ç¤º) {
                é¸å–®å€æ®µ.style.display = 'none';
                è´ŠåŠ©å€æ®µ.style.display = 'block';
            } else {
                é¸å–®å€æ®µ.style.display = 'block';
                è´ŠåŠ©å€æ®µ.style.display = 'none';
                document.getElementById('è‡ªè¨‚è´ŠåŠ©é‡‘é¡').value = ''; // æ¸…ç©ºè¼¸å…¥æ¡†
            }
        }

        // 2. ç²å–è‡ªè¨‚é‡‘é¡ä¸¦é©—è­‰
        function æäº¤è‡ªè¨‚è´ŠåŠ©() {
            const è¼¸å…¥å€¼ = document.getElementById('è‡ªè¨‚è´ŠåŠ©é‡‘é¡').value;
            const amount = Number(è¼¸å…¥å€¼);

            // å‰ç«¯å®‰å…¨æ€§èˆ‡æ ¼å¼é˜»æ“‹ï¼š
            if (!è¼¸å…¥å€¼) {
                é¡¯ç¤ºé€šçŸ¥("âŒ è«‹è¼¸å…¥è´ŠåŠ©é‡‘é¡ï¼");
                return;
            }
            if (Number.isNaN(amount)) {
                é¡¯ç¤ºé€šçŸ¥("âŒ é‡‘é¡æ ¼å¼ä¸æ­£ç¢ºï¼");
                return;
            }
            // é˜»æ“‹å°æ•¸é» (å¼·åˆ¶è½‰æ•´æ•¸æˆ–ç›´æ¥æ“‹ä¸‹)
            if (!Number.isInteger(amount)) {
                é¡¯ç¤ºé€šçŸ¥("âŒ è´ŠåŠ©é‡‘é¡å¿…é ˆç‚ºæ•´æ•¸ï¼ä¸æ”¯æ´å°æ•¸é»ã€‚");
                return;
            }
            if (amount < 50) {
                é¡¯ç¤ºé€šçŸ¥("âŒ ç³»çµ±é™åˆ¶ï¼šè´ŠåŠ©é‡‘é¡æœ€ä½ç‚º NTD 50ã€‚");
                return;
            }
            if (amount > 100000) {
                é¡¯ç¤ºé€šçŸ¥("âŒ å–®ç­†ä¸Šé™ç‚º NTD 100,000ï¼Œæ„Ÿè¬åœŸè±ªåšæ„›ï¼");
                return;
            }

            åŸ·è¡Œè´ŠåŠ©(amount);
        }

        // 3. ç™¼é€ API è«‹æ±‚çµ¦å¾Œç«¯å»ºç«‹ Stripe Session
        async function åŸ·è¡Œè´ŠåŠ©(amount) {
            // å…ˆæª¢æŸ¥æ˜¯å¦ç™»å…¥
            const token = localStorage.getItem('tipsy_token');
            if (!token) {
                alert("ğŸ¹ æ„Ÿè¬æ‚¨çš„å¿ƒæ„ï¼è«‹å…ˆç™»å…¥æœƒå“¡ä»¥é€²è¡Œè´ŠåŠ©ã€‚");
                åˆ‡æ›è´ŠåŠ©ä»‹é¢(false); // é—œé–‰è´ŠåŠ©å€
                bootstrap.Offcanvas.getInstance(document.getElementById('å´é‚Šé¸å–®æœ¬é«”')).hide(); // é—œé–‰å´é‚Šæ¬„
                new bootstrap.Modal(document.getElementById('ç™»å…¥å½ˆçª—')).show(); // è·³å‡ºç™»å…¥æ¡†
                return;
            }

            é¡¯ç¤ºé€šçŸ¥("â³ æ­£åœ¨å»ºç«‹å®‰å…¨æ”¯ä»˜é€£çµ...");

            try {
                const res = await fetch(`${API_URL}/create-checkout-session`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    },
                    body: JSON.stringify({ amount })
                });

                const data = await res.json();

                if (res.ok && data.success && data.url) {
                    // æ ¸å¿ƒæ­¥é©Ÿï¼šå°‡ç¶²é å°å‘ Stripe çµå¸³é é¢
                    window.location.href = data.url;
                } else {
                    é¡¯ç¤ºé€šçŸ¥(`âŒ å»ºç«‹å¤±æ•—ï¼š${data.message}`);
                }
            } catch (err) {
                console.error("è´ŠåŠ©è«‹æ±‚éŒ¯èª¤", err);
                é¡¯ç¤ºé€šçŸ¥("âŒ é‡‘æµæœå‹™ç„¡æ³•é€£ç·šï¼Œè«‹ç¨å¾Œå†è©¦ã€‚");
            }
        }

        // 4. è§£æç¶²å€åƒæ•¸ (å¦‚æœä»˜æ¬¾æˆåŠŸè·³å›ä¾†æœƒå¸¶æœ‰ ?success=true)
        function æª¢æŸ¥ä»˜æ¬¾çµæœ() {
            const urlParams = new URLSearchParams(window.location.search);
            if (urlParams.get('success')) {
                // ç­‰ DOM è¼‰å…¥å¾Œå†é¡¯ç¤ºé€šçŸ¥
                setTimeout(() => {
                    é¡¯ç¤ºé€šçŸ¥("ğŸ‰ è´ŠåŠ©æˆåŠŸï¼éå¸¸æ„Ÿè¬æ‚¨çš„ç†±æƒ…æ”¯æŒï¼Œæ•¬ä¸€æ¯ï¼ğŸ¥‚");
                    // æ¸…é™¤ç¶²å€åƒæ•¸ï¼Œä¿æŒä¹¾æ·¨
                    window.history.replaceState(null, '', window.location.pathname);
                }, 1000);
            }
            if (urlParams.get('canceled')) {
                setTimeout(() => {
                    é¡¯ç¤ºé€šçŸ¥("â„¹ï¸ è´ŠåŠ©å·²å–æ¶ˆã€‚æ­¡è¿ä¸‹æ¬¡å†ä¾†åœ–æ›¸é¤¨é€›é€›ï¼");
                    window.history.replaceState(null, '', window.location.pathname);
                }, 1000);
            }
        }

        // åœ¨ window.onload ä¸­åŠ å…¥é€™å€‹æª¢æŸ¥
        const originalOnload = window.onload;
        window.onload = async function () {
            if (originalOnload) originalOnload();
            æª¢æŸ¥ä»˜æ¬¾çµæœ();
        };

        // 2. åˆ‡æ›æ”¶è—ç‹€æ…‹ (API)
        async function åˆ‡æ›æ”¶è—ç‹€æ…‹(id, event) {
            if (event) event.stopPropagation();

            // ğŸ”¥ æª¢æŸ¥æ˜¯å¦æœ‰ Token (é€™æ˜¯æ–°çš„é©—è­‰æ–¹å¼)
            const token = localStorage.getItem('tipsy_token');
            if (!token) {
                alert("è«‹å…ˆç™»å…¥æœƒå“¡ï¼Œæ‰èƒ½ä½¿ç”¨æ”¶è—åŠŸèƒ½ï¼");
                const ç™»å…¥å½ˆçª—å¯¦é«” = new bootstrap.Modal(document.getElementById('ç™»å…¥å½ˆçª—'));
                ç™»å…¥å½ˆçª—å¯¦é«”.show();
                return;
            }

            try {
                // å‘¼å«å¾Œç«¯ï¼Œé€™æ™‚ id å·²ç¶“æ˜¯æ­£ç¢ºçš„ _id äº†
                const res = await fetch(`${API_URL}/cocktails/${id}/collect`, {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'Authorization': `Bearer ${token}`
                    }
                });
                const data = await res.json();

                if (data.success) {
                    // æ›´æ–°æœ¬åœ°æ¸…å–®
                    localStorage.setItem('æˆ‘çš„æ”¶è—æ¸…å–®', JSON.stringify(data.favorites));

                    // æ›´æ–° UI
                    const isFav = data.favorites.includes(String(id)) || data.favorites.includes(id);
                    æ›´æ–°UIç‹€æ…‹(id, isFav);

                    é¡¯ç¤ºé€šçŸ¥(data.message);

                    // æ›´æ–°å´é‚Šæ¬„æ•¸å­—
                    const user = JSON.parse(localStorage.getItem('tipsy_user'));
                    åˆ‡æ›è‡³æ­¡è¿ä»‹é¢(user);
                }
            } catch (err) {
                console.error("æ”¶è—æ“ä½œå¤±æ•—", err);
                alert("æ“ä½œå¤±æ•—ï¼Œè«‹æª¢æŸ¥ç¶²è·¯");
            }
        }

        // 3. æ›´æ–° UI ä¸Šçš„æ„›å¿ƒåœ–ç¤º
        function æ›´æ–°UIç‹€æ…‹(id, isFav) {
            const iconHtml = `<i class="bi ${isFav ? 'bi-heart-fill' : 'bi-heart'} æ„›å¿ƒåœ–ç¤º"></i>`;
            const action = isFav ? 'add' : 'remove';

            // æ›´æ–°åˆ—è¡¨ä¸Šçš„æ„›å¿ƒ
            const cardHeart = document.getElementById(`card-heart-${id}`);
            if (cardHeart) { cardHeart.classList[action]('å·²æ”¶è—'); cardHeart.innerHTML = iconHtml; }

            // æ›´æ–°å½ˆçª—è£¡çš„æ„›å¿ƒ
            const modalHeart = document.getElementById('modal-heart-btn');
            if (modalHeart && ç•¶å‰é…’æ¯ID === id) { modalHeart.classList[action]('å·²æ”¶è—'); modalHeart.innerHTML = iconHtml; }
        }

        // 4. åˆ†é åˆ‡æ›å™¨
        function åˆ‡æ›åˆ†é (åƒæ•¸) {
            if (typeof åƒæ•¸ === 'number') {
                åŸ·è¡Œé ç¢¼åˆ‡æ›(åƒæ•¸);
            } else {
                åˆ‡æ›å¡ç‰‡å…§å®¹Tab(åƒæ•¸);
            }
        }

        function åŸ·è¡Œé ç¢¼åˆ‡æ›(ç›®æ¨™é ç¢¼) {
            const ç¸½é æ•¸ = Math.ceil(ç•¶å‰é¡¯ç¤ºåˆ—è¡¨.length / æ¯é æ•¸é‡) || 1;
            if (ç›®æ¨™é ç¢¼ > ç¸½é æ•¸) ç›®æ¨™é ç¢¼ = ç¸½é æ•¸;
            if (ç›®æ¨™é ç¢¼ < 1) ç›®æ¨™é ç¢¼ = 1;
            ç•¶å‰é ç¢¼ = ç›®æ¨™é ç¢¼;
            window.scrollTo({ top: 0, behavior: 'smooth' });
            æ¸²æŸ“é…’å¡(ç•¶å‰é¡¯ç¤ºåˆ—è¡¨);
        }

        // ==========================================
        // ğŸ”¥ [è¼”åŠ©åŠŸèƒ½] å½ˆçª—è©³æƒ…ã€ç¯©é¸ã€é€šçŸ¥
        // ==========================================

        const æˆ‘çš„å½ˆçª— = new bootstrap.Modal(document.getElementById('è©³æƒ…å½ˆçª—'));

        // 1. é¡¯ç¤ºè©³æƒ…å½ˆçª— - å·²ä¿®æ­£ _id æŸ¥æ‰¾å•é¡Œ
        function é¡¯ç¤ºè©³ç´°è³‡è¨Š(id, isRandom = false) {
            ç•¶å‰é…’æ¯ID = id;

            // ğŸ”¥ é€™è£¡æ”¹ç”¨ _id ä¾†å°‹æ‰¾é…’çš„è³‡æ–™
            const drink = cocktails.find(item => item._id === id);
            if (!drink) return;

            document.getElementById('å½ˆçª—-æ¨™é¡Œ').innerText = drink.name;
            let modalBase = Array.isArray(drink.base) ? drink.base.join(' / ') : drink.base;
            document.getElementById('å½ˆçª—-åŸºé…’').innerText = modalBase;
            document.getElementById('å½ˆçª—-æ¿ƒåº¦').innerText = drink.abvDisplay;
            document.getElementById('å½ˆçª—-å£æ„Ÿ').innerText = drink.taste;
            document.getElementById('å½ˆçª—-ææ–™åˆ—è¡¨').innerText = drink.ingredients;
            document.getElementById('å½ˆçª—-æ•…äº‹æ–‡å­—').innerText = drink.story;

            // æ¸²æŸ“æ­¥é©Ÿ
            const æ­¥é©Ÿå€ = document.getElementById('å½ˆçª—-æ­¥é©Ÿå€');
            æ­¥é©Ÿå€.innerHTML = `
        <div class="åœ–æ¨™å·¥å…·åˆ—">
            <span class="å·¥å…·æ¨™ç±¤"><i class="bi bi-funnel"></i> ${drink.method || 'åŸºæœ¬èª¿è£½'}</span>
            <span class="å·¥å…·æ¨™ç±¤"><i class="bi bi-cup-straw"></i> ${drink.glass || 'é©ç•¶æ¯å‹'}</span>
        </div>
        <ol class="ç´”æ–‡å­—æ­¥é©Ÿåˆ—è¡¨">
            ${(drink.steps && drink.steps.length > 0)
                    ? drink.steps.map(step => `<li>${step}</li>`).join('')
                    : '<li style="list-style:none">æš«ç„¡è©³ç´°æ­¥é©Ÿ</li>'}
        </ol>
    `;

            // è™•ç†åœ–ç‰‡
            const imgEl = document.getElementById('å½ˆçª—-åœ–ç‰‡');
            imgEl.src = drink.img;

            // è™•ç†å½ˆçª—å…§çš„æ„›å¿ƒ
            let wrapper = imgEl.closest('.img-container');
            if (!wrapper) {
                wrapper = document.createElement('div');
                wrapper.className = 'img-container';
                imgEl.parentNode.insertBefore(wrapper, imgEl);
                wrapper.appendChild(imgEl);
                const heartBtn = document.createElement('div');
                heartBtn.id = 'modal-heart-btn';
                wrapper.appendChild(heartBtn);
            }

            const æ”¶è—æ¸…å–® = JSON.parse(localStorage.getItem('æˆ‘çš„æ”¶è—æ¸…å–®')) || [];
            // ğŸ”¥ ä¿®æ­£ ID åˆ¤æ–·
            const isFav = æ”¶è—æ¸…å–®.includes(drink._id);
            const æ„›å¿ƒClass = isFav ? 'å·²æ”¶è—' : '';
            const æ„›å¿ƒIcon = isFav ? 'bi-heart-fill' : 'bi-heart';

            const heartBtn = document.getElementById('modal-heart-btn');
            heartBtn.className = `æ„›å¿ƒæŒ‰éˆ• ${æ„›å¿ƒClass}`;
            heartBtn.innerHTML = `<i class="bi ${æ„›å¿ƒIcon} æ„›å¿ƒåœ–ç¤º"></i>`;
            heartBtn.onclick = (e) => åˆ‡æ›æ”¶è—ç‹€æ…‹(drink._id, e); // ğŸ”¥ é€™è£¡ä¹Ÿå‚³ _id

            const é‡æŠ½æŒ‰éˆ• = document.getElementById('å–®æŠ½é‡é¸æŒ‰éˆ•');
            if (é‡æŠ½æŒ‰éˆ•) é‡æŠ½æŒ‰éˆ•.style.display = isRandom ? 'block' : 'none';

            åˆ‡æ›å¡ç‰‡å…§å®¹Tab('æ•…äº‹');
            æˆ‘çš„å½ˆçª—.show();
        }

        // 2. åˆ‡æ›æ•…äº‹/æ­¥é©Ÿ
        function åˆ‡æ›å¡ç‰‡å…§å®¹Tab(æ¨¡å¼) {
            const æ•…äº‹å€ = document.getElementById('å½ˆçª—-æ•…äº‹æ–‡å­—');
            const æ­¥é©Ÿå€ = document.getElementById('å½ˆçª—-æ­¥é©Ÿå€');
            const éˆ•æ•…äº‹ = document.getElementById('éˆ•-æ•…äº‹');
            const éˆ•æ­¥é©Ÿ = document.getElementById('éˆ•-æ­¥é©Ÿ');

            if (æ¨¡å¼ === 'æ•…äº‹') {
                æ•…äº‹å€.style.display = 'block';
                æ­¥é©Ÿå€.style.display = 'none';
                éˆ•æ•…äº‹.classList.add('å•Ÿå‹•');
                éˆ•æ­¥é©Ÿ.classList.remove('å•Ÿå‹•');
            } else {
                æ•…äº‹å€.style.display = 'none';
                æ­¥é©Ÿå€.style.display = 'block';
                éˆ•æ•…äº‹.classList.remove('å•Ÿå‹•');
                éˆ•æ­¥é©Ÿ.classList.add('å•Ÿå‹•');
            }
        }

        // 3. ç¯©é¸é‚è¼¯
        function åŸ·è¡Œç¯©é¸() {
            const é›»è…¦æœ = document.getElementById('æœå°‹è¼¸å…¥').value.trim();
            const æ‰‹æ©Ÿæœ = document.getElementById('æœå°‹è¼¸å…¥_æ‰‹æ©Ÿ') ? document.getElementById('æœå°‹è¼¸å…¥_æ‰‹æ©Ÿ').value.trim() : '';
            const é—œéµå­— = (é›»è…¦æœ || æ‰‹æ©Ÿæœ).toLowerCase();

            const å–å¾—å€¼ = (é›»è…¦ID, æ‰‹æ©ŸID) => {
                const é›»è…¦å€¼ = document.getElementById(é›»è…¦ID).value;
                const æ‰‹æ©Ÿå…ƒä»¶ = document.getElementById(æ‰‹æ©ŸID);
                const æ‰‹æ©Ÿå€¼ = æ‰‹æ©Ÿå…ƒä»¶ ? æ‰‹æ©Ÿå…ƒä»¶.value : 'all';
                return (é›»è…¦å€¼ !== 'all') ? é›»è…¦å€¼ : æ‰‹æ©Ÿå€¼;
            };

            const é¸åˆ°çš„åŸºé…’ = å–å¾—å€¼('ç¯©é¸-åŸºé…’', 'ç¯©é¸-åŸºé…’-æ‰‹æ©Ÿ');
            const é¸åˆ°çš„æ¿ƒåº¦ = å–å¾—å€¼('ç¯©é¸-æ¿ƒåº¦', 'ç¯©é¸-æ¿ƒåº¦-æ‰‹æ©Ÿ');
            const é¸åˆ°çš„å£æ„Ÿ = å–å¾—å€¼('ç¯©é¸-å£æ„Ÿ', 'ç¯©é¸-å£æ„Ÿ-æ‰‹æ©Ÿ');

            const ç¯©é¸çµæœ = cocktails.filter(item => {
                const åå­—ç¬¦åˆ = item.name.toLowerCase().includes(é—œéµå­—);
                const ææ–™ç¬¦åˆ = item.ingredients.toLowerCase().includes(é—œéµå­—);
                const æœå°‹ç¬¦åˆ = é—œéµå­— === "" || åå­—ç¬¦åˆ || ææ–™ç¬¦åˆ;

                let åŸºé…’ç¬¦åˆ = (é¸åˆ°çš„åŸºé…’ === 'all') ? true :
                    (Array.isArray(item.base) ? item.base.includes(é¸åˆ°çš„åŸºé…’) : item.base === é¸åˆ°çš„åŸºé…’);

                const æ¿ƒåº¦ç¬¦åˆ = (é¸åˆ°çš„æ¿ƒåº¦ === 'all' || item.abvLevel === é¸åˆ°çš„æ¿ƒåº¦);
                const å£æ„Ÿç¬¦åˆ = (é¸åˆ°çš„å£æ„Ÿ === 'all' || item.taste === é¸åˆ°çš„å£æ„Ÿ);

                return æœå°‹ç¬¦åˆ && åŸºé…’ç¬¦åˆ && æ¿ƒåº¦ç¬¦åˆ && å£æ„Ÿç¬¦åˆ;
            });

            ç•¶å‰é ç¢¼ = 1;
            æ¸²æŸ“é…’å¡(ç¯©é¸çµæœ);
        }

        // 4. åªé¡¯ç¤ºæ”¶è—
        function åªé¡¯ç¤ºæ”¶è—() {
            const æ”¶è—æ¸…å–® = JSON.parse(localStorage.getItem('æˆ‘çš„æ”¶è—æ¸…å–®')) || [];
            // ğŸ”¥ ä¿®æ­£ç‚ºæ¯”å° _id
            const æ”¶è—çš„é…’ = cocktails.filter(item => æ”¶è—æ¸…å–®.includes(item._id));

            if (æ”¶è—çš„é…’.length === 0) { alert("æ‚¨ç›®å‰é‚„æ²’æœ‰æ”¶è—ä»»ä½•èª¿é…’å–”ï¼"); return; }

            ç•¶å‰é ç¢¼ = 1;
            æ¸²æŸ“é…’å¡(æ”¶è—çš„é…’);

            const å´é‚Šæ¬„ = bootstrap.Offcanvas.getInstance(document.getElementById('å´é‚Šé¸å–®æœ¬é«”'));
            if (å´é‚Šæ¬„) å´é‚Šæ¬„.hide();
            é¡¯ç¤ºé€šçŸ¥(`é¡¯ç¤º ${æ”¶è—çš„é…’.length} æ¯çè—èª¿é…’`);
        }

        // 5. éš¨æ©Ÿé¸é…’
        function éš¨æ©Ÿé¸é…’é‚è¼¯() {
            if (cocktails.length === 0) return;
            const éš¨æ©Ÿç´¢å¼• = Math.floor(Math.random() * cocktails.length);
            const è¢«æŠ½ä¸­çš„é…’ = cocktails[éš¨æ©Ÿç´¢å¼•];
            é¡¯ç¤ºè©³ç´°è³‡è¨Š(è¢«æŠ½ä¸­çš„é…’._id, true); // ğŸ”¥ é€™è£¡ä¹Ÿå‚³ _id

            const å´é‚Šæ¬„ = bootstrap.Offcanvas.getInstance(document.getElementById('å´é‚Šé¸å–®æœ¬é«”'));
            if (å´é‚Šæ¬„) å´é‚Šæ¬„.hide();
        }

        // 6. å…¶ä»–è¼”åŠ©å‡½å¼
        function é¡¯ç¤ºé€šçŸ¥(æ–‡å­—) {
            const box = document.getElementById('é€šçŸ¥æ¡†');
            if (box) { box.innerText = æ–‡å­—; box.style.opacity = '1'; setTimeout(() => { box.style.opacity = '0'; }, 800); }
        }

        function å›åˆ°é¦–é () {
            document.getElementById('æœå°‹è¼¸å…¥').value = '';
            if (document.getElementById('æœå°‹è¼¸å…¥_æ‰‹æ©Ÿ')) document.getElementById('æœå°‹è¼¸å…¥_æ‰‹æ©Ÿ').value = '';
            const ids = ['ç¯©é¸-åŸºé…’', 'ç¯©é¸-æ¿ƒåº¦', 'ç¯©é¸-å£æ„Ÿ', 'ç¯©é¸-åŸºé…’-æ‰‹æ©Ÿ', 'ç¯©é¸-æ¿ƒåº¦-æ‰‹æ©Ÿ', 'ç¯©é¸-å£æ„Ÿ-æ‰‹æ©Ÿ'];
            ids.forEach(id => {
                const el = document.getElementById(id);
                if (el) el.value = 'all';
            });
            åŸ·è¡Œç¯©é¸();
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // è‡ªå‹•ç¶å®šæœå°‹æ¡†äº‹ä»¶
        document.addEventListener("DOMContentLoaded", function () {
            const inputs = document.querySelectorAll('select, input[type="text"]');
            inputs.forEach(el => {
                if (el.id.includes('ç¯©é¸') || el.id.includes('æœå°‹')) {
                    el.addEventListener('input', åŸ·è¡Œç¯©é¸);
                    el.addEventListener('change', åŸ·è¡Œç¯©é¸);
                }
            });
        });


        // ==========================================
        // ğŸ”¥ [æ–°å¢åŠŸèƒ½å€] æ»‘å‹•åˆ‡æ›ã€é ç¢¼é˜²å‘†ã€å¾®é†ºå¥—é¤
        // (çµ•å°ä¸å½±éŸ¿ä¸Šæ–¹åŸæœ‰ç¨‹å¼ç¢¼)
        // ==========================================

        // ------------------------------------------
        // 1. åˆ‡æ›ç›¸é„°èª¿é…’ (å·¦å³ç®­é ­ + æ‰‹æ©Ÿæ»‘å‹•)
        // ------------------------------------------
        function åˆ‡æ›ç›¸é„°èª¿é…’(æ–¹å‘) {
            if (!ç•¶å‰é…’æ¯ID) return;

            const currentIndex = ç•¶å‰é¡¯ç¤ºåˆ—è¡¨.findIndex(drink => drink._id === ç•¶å‰é…’æ¯ID);
            if (currentIndex === -1) return;

            let nextIndex = currentIndex + æ–¹å‘;

            if (nextIndex < 0) nextIndex = ç•¶å‰é¡¯ç¤ºåˆ—è¡¨.length - 1;
            if (nextIndex >= ç•¶å‰é¡¯ç¤ºåˆ—è¡¨.length) nextIndex = 0;

            const nextDrink = ç•¶å‰é¡¯ç¤ºåˆ—è¡¨[nextIndex];
            é¡¯ç¤ºè©³ç´°è³‡è¨Š(nextDrink._id);
        }

        // ç›£è½éµç›¤å·¦å³æ–¹å‘éµ
        document.addEventListener('keydown', function (event) {
            const modalElement = document.getElementById('è©³æƒ…å½ˆçª—');
            if (modalElement && modalElement.classList.contains('show')) {
                if (event.key === 'ArrowLeft') åˆ‡æ›ç›¸é„°èª¿é…’(-1);
                else if (event.key === 'ArrowRight') åˆ‡æ›ç›¸é„°èª¿é…’(1);
            }
        });

        // æ‰‹æ©Ÿç‰ˆï¼šè§¸æ§æ»‘å‹•åˆ‡æ›é‚è¼¯
        let è§¸æ§èµ·å§‹X = 0;
        let è§¸æ§çµæŸX = 0;
        const å½ˆçª—å…ƒç´  = document.getElementById('è©³æƒ…å½ˆçª—');

        if (å½ˆçª—å…ƒç´ ) {
            å½ˆçª—å…ƒç´ .addEventListener('touchstart', (e) => {
                è§¸æ§èµ·å§‹X = e.changedTouches[0].screenX;
            }, { passive: true });

            å½ˆçª—å…ƒç´ .addEventListener('touchend', (e) => {
                è§¸æ§çµæŸX = e.changedTouches[0].screenX;
                const æ»‘å‹•è·é›¢ = è§¸æ§çµæŸX - è§¸æ§èµ·å§‹X;
                if (æ»‘å‹•è·é›¢ < -50) åˆ‡æ›ç›¸é„°èª¿é…’(1);  // å‘å·¦æ»‘ -> çœ‹ä¸‹ä¸€æ¯
                if (æ»‘å‹•è·é›¢ > 50) åˆ‡æ›ç›¸é„°èª¿é…’(-1); // å‘å³æ»‘ -> çœ‹ä¸Šä¸€æ¯
            }, { passive: true });
        }

        // ------------------------------------------
        // 2. è™•ç†é ç¢¼è¼¸å…¥è·³è½‰ (ç²¾æº–é˜²å‘†)
        // ------------------------------------------
        function è™•ç†è¼¸å…¥è·³è½‰(è¼¸å…¥å€¼) {
            const ç¸½æ•¸ = ç•¶å‰é¡¯ç¤ºåˆ—è¡¨.length;
            const ç¸½é æ•¸ = Math.ceil(ç¸½æ•¸ / æ¯é æ•¸é‡) || 1;
            const ç›®æ¨™é  = parseInt(è¼¸å…¥å€¼, 10);
            const è¼¸å…¥æ¡† = document.getElementById('é ç¢¼è¼¸å…¥æ¡†');

            // é˜²å‘† Aï¼šå¦‚æœè¼¸å…¥éæ•¸å­— (ä¾‹å¦‚ä¸­è‹±æ–‡å­—)
            if (isNaN(ç›®æ¨™é )) {
                è¼¸å…¥æ¡†.value = ç•¶å‰é ç¢¼; // æ¢å¾©åŸæœ¬é ç¢¼
                window.scrollTo({ top: 0, behavior: 'smooth' }); // è·³å›æœ€ä¸Šé¢
                return;
            }

            // é˜²å‘† Bï¼šè¼¸å…¥è² æ•¸æˆ– 0ï¼Œè·³å›ç¬¬ä¸€é 
            if (ç›®æ¨™é  < 1) {
                åˆ‡æ›åˆ†é (1);
            }
            // é˜²å‘† Cï¼šè¼¸å…¥è¶…éæœ€å¤§é æ•¸ï¼Œè·³åˆ°æœ€å¾Œä¸€é 
            else if (ç›®æ¨™é  > ç¸½é æ•¸) {
                åˆ‡æ›åˆ†é (ç¸½é æ•¸);
            }
            // æ­£å¸¸ç¯„åœï¼šè·³è½‰åˆ°æŒ‡å®šé é¢
            else {
                åˆ‡æ›åˆ†é (ç›®æ¨™é );
            }
        }

        // ------------------------------------------
        // 3. æ¼¸é€²å¼å±¤æ¬¡å¾®é†ºå¥—é¤ (Low -> Med -> High)
        // ------------------------------------------
        function ç”Ÿæˆå¾®é†ºå¥—é¤() {
            // ä¾æ“šé…’ç²¾æ¿ƒåº¦åˆ†é¡
            const ä½æ¿ƒåº¦é…’å–® = cocktails.filter(c => c.abvLevel === 'low');
            const ä¸­æ¿ƒåº¦é…’å–® = cocktails.filter(c => c.abvLevel === 'med');
            const é«˜æ¿ƒåº¦é…’å–® = cocktails.filter(c => c.abvLevel === 'high');

            if (ä½æ¿ƒåº¦é…’å–®.length === 0 || ä¸­æ¿ƒåº¦é…’å–®.length === 0 || é«˜æ¿ƒåº¦é…’å–®.length === 0) {
                alert("ç›®å‰é…’å–®åº«è³‡æ–™ä¸è¶³ä»¥ç”Ÿæˆæ¼¸é€²å¥—é¤ï¼Œè«‹ç¨å¾Œå†è©¦ï¼");
                return;
            }

            // éš¨æ©ŸæŠ½å‡ºä¸€æ¯çš„å·¥å…·
            const æŠ½å‡ºä¸€æ¯ = (é™£åˆ—) => é™£åˆ—[Math.floor(Math.random() * é™£åˆ—.length)];

            // ç¢ºä¿ä¸‰æ¯ä¾†è‡ªä¸åŒå±¤æ¬¡ï¼Œçµ•å°ä¸æœƒé‡è¤‡
            const å¥—é¤ = [
                æŠ½å‡ºä¸€æ¯(ä½æ¿ƒåº¦é…’å–®),
                æŠ½å‡ºä¸€æ¯(ä¸­æ¿ƒåº¦é…’å–®),
                æŠ½å‡ºä¸€æ¯(é«˜æ¿ƒåº¦é…’å–®)
            ];

            const å®¹å™¨ = document.getElementById('å¥—é¤å…§å®¹å®¹å™¨');
            if (!å®¹å™¨) return;
            å®¹å™¨.innerHTML = '';

            const é †åºæ¨™ç±¤ = ['ğŸ¸ ç¬¬ä¸€æ¯ï¼šå–šé†’ (å¾®é†º)', 'ğŸ· ç¬¬äºŒæ¯ï¼šæ¼¸å…¥ (é©ä¸­)', 'ğŸ¥ƒ ç¬¬ä¸‰æ¯ï¼šæ²‰é†‰ (æ¿ƒçƒˆ)'];

            // æ¸²æŸ“å¡ç‰‡
            å¥—é¤.forEach((drink, index) => {
                const é¡¯ç¤ºåŸºé…’ = Array.isArray(drink.base) ? drink.base.join(' / ') : drink.base;
                const col = document.createElement('div');
                col.className = 'col-md-4';

                col.innerHTML = `
            <div class="card ç‰¹èª¿é…’å¡" style="background: #2a2a2a; cursor: pointer; height: 100%;" onclick="é¡¯ç¤ºè©³ç´°è³‡è¨Š('${drink._id}')">
                <img src="${drink.img}" class="card-img-top" alt="${drink.name}" style="height: 200px; object-fit: cover;">
                <div class="card-body text-center">
                    <span class="badge text-dark mb-2" style="background-color: var(--å¥¢è¯é‡‘è‰²);">${é †åºæ¨™ç±¤[index]}</span>
                    <h6 class="card-title mt-2" style="color: var(--å¥¢è¯é‡‘è‰²);">${drink.name}</h6>
                    <small class="text-white-50">${é¡¯ç¤ºåŸºé…’} | ${drink.abvDisplay}</small>
                    <p class="text-light mt-2" style="font-size: 0.85rem; display: -webkit-box; -webkit-line-clamp: 2; -webkit-box-orient: vertical; overflow: hidden;">
                        ${drink.story}
                    </p>
                </div>
            </div>
        `;
                å®¹å™¨.appendChild(col);
            });

            // é—œé–‰å´é‚Šæ¬„
            const å´é‚Šæ¬„å…ƒä»¶ = document.getElementById('å´é‚Šé¸å–®æœ¬é«”');
            if (å´é‚Šæ¬„å…ƒä»¶) {
                const å´é‚Šæ¬„ = bootstrap.Offcanvas.getInstance(å´é‚Šæ¬„å…ƒä»¶);
                if (å´é‚Šæ¬„) å´é‚Šæ¬„.hide();
            }

            // é–‹å•Ÿå¥—é¤å½ˆçª— (å®‰å…¨å¯«æ³•ï¼šé˜²æ­¢é‡è¤‡ç”Ÿæˆé»‘è‰²é®ç½©)

            const å¥—é¤å½ˆçª—å…ƒç´  = document.getElementById('å¥—é¤å½ˆçª—');
            const å¥—é¤å½ˆçª—å¯¦é«” = bootstrap.Modal.getOrCreateInstance(å¥—é¤å½ˆçª—å…ƒç´ );

            // åªæœ‰åœ¨å½ˆçª—ã€Œé‚„æ²’æ‰“é–‹ã€çš„æ™‚å€™ï¼Œæ‰éœ€è¦åŸ·è¡Œ show() æŠŠé»‘å¸ƒé‹ªå‡ºä¾†
            if (!å¥—é¤å½ˆçª—å…ƒç´ .classList.contains('show')) {
                å¥—é¤å½ˆçª—å¯¦é«”.show();
            }
        }

        // ==========================================
        // ğŸ”¥ [ä¿®å¾©] å®Œç¾å¯¦ç¾ã€Œé›™é‡å½ˆçª—ã€ï¼šè©³æƒ…ç–Šåœ¨å¥—é¤ä¹‹ä¸Š
        // ==========================================
        document.addEventListener("DOMContentLoaded", function () {
            const è©³æƒ…å½ˆçª—å…ƒç´  = document.getElementById('è©³æƒ…å½ˆçª—');
            const å¥—é¤å½ˆçª—å…ƒç´  = document.getElementById('å¥—é¤å½ˆçª—');

            if (è©³æƒ…å½ˆçª—å…ƒç´  && å¥—é¤å½ˆçª—å…ƒç´ ) {

                // 1. ç•¶ã€Œè©³æƒ…å½ˆçª—ã€æ‰“é–‹æ™‚ï¼šå¼·åˆ¶æŠŠåœ–å±¤æ‹‰åˆ°æœ€é«˜
                è©³æƒ…å½ˆçª—å…ƒç´ .addEventListener('show.bs.modal', function () {
                    // Bootstrap é è¨­åœ–å±¤é«˜åº¦æ˜¯ 1055ï¼Œæˆ‘å€‘æŠŠå®ƒæ‹‰é«˜åˆ° 1080 è“‹éå¥—é¤
                    this.style.zIndex = '1080';

                    // ç­‰å¾…å¹¾æ¯«ç§’è®“ Bootstrap ç”Ÿæˆé»‘è‰²åŠé€æ˜é®ç½©å¾Œï¼ŒæŠŠæœ€ä¸Šé¢é‚£å€‹é®ç½©çš„åœ–å±¤ä¹Ÿæ‹‰é«˜
                    setTimeout(() => {
                        const é®ç½©å€‘ = document.querySelectorAll('.modal-backdrop');
                        if (é®ç½©å€‘.length > 0) {
                            // æŠ“å–æœ€å¾Œä¸€å€‹ç”Ÿæˆçš„é®ç½©ï¼ˆå±¬æ–¼è©³æƒ…å½ˆçª—çš„ï¼‰
                            é®ç½©å€‘[é®ç½©å€‘.length - 1].style.zIndex = '1075';
                        }
                    }, 50);
                });

                // 2. ç•¶ã€Œè©³æƒ…å½ˆçª—ã€é—œé–‰æ™‚ï¼šå–„å¾Œè™•ç†
                è©³æƒ…å½ˆçª—å…ƒç´ .addEventListener('hidden.bs.modal', function () {
                    // æŠŠåœ–å±¤é«˜åº¦é‚„åŸ
                    this.style.zIndex = '';

                    // ğŸ’¡ é—œéµä¿®å¾©ï¼šBootstrap é—œé–‰ä¸Šæ–¹å½ˆçª—æ™‚ï¼Œæœƒèª¤ä»¥ç‚ºã€Œæ‰€æœ‰ã€å½ˆçª—éƒ½é—œäº†ï¼Œå°è‡´åº•ä¸‹çš„å¥—é¤ä¸èƒ½æ»‘å‹•ã€‚
                    // æ‰€ä»¥æˆ‘å€‘æª¢æŸ¥ä¸€ä¸‹ï¼šå¦‚æœå¥—é¤é‚„é–‹è‘—ï¼Œå°±å¼·åˆ¶è®“ç¶²é ä¿æŒã€Œå½ˆçª—é–‹å•Ÿä¸­ã€çš„ç‹€æ…‹ã€‚
                    if (å¥—é¤å½ˆçª—å…ƒç´ .classList.contains('show')) {
                        document.body.classList.add('modal-open');
                    }
                });

            }
        });



        // ==========================================
        // ğŸ”¥ [æ–°å¢] è™•ç† Google ç™»å…¥å›æ‡‰
        // ==========================================
        async function è™•ç†Googleç™»å…¥å›æ‡‰(response) {
            // response.credential å°±æ˜¯ Google ç™¼çµ¦æˆ‘å€‘çš„è‡¨æ™‚è­˜åˆ¥è­‰
            const googleToken = response.credential;

            try {
                const res = await fetch(`${API_URL}/google-login`, {
                    method: 'POST',
                    headers: { 'Content-Type': 'application/json' },
                    body: JSON.stringify({ token: googleToken })
                });

                const data = await res.json();

                if (data.success) {
                    alert("ğŸ‰ Google ç™»å…¥æˆåŠŸï¼");
                    å®Œæˆç™»å…¥ç¨‹åº(data);
                    bootstrap.Modal.getInstance(document.getElementById('ç™»å…¥å½ˆçª—')).hide();
                } else {
                    alert("ç™»å…¥å¤±æ•—ï¼š" + data.message);
                }
            } catch (err) {
                console.error(err);
                alert("ç³»çµ±é€£ç·šéŒ¯èª¤");
            }
        }


        // ==========================================
        // ğŸ”¥ [ç¬¬ä¸€éšæ®µ] 18 æ­²å¹´é½¡é©—è­‰é‚è¼¯
        // ==========================================
        document.addEventListener('DOMContentLoaded', function () {
            const isAdult = localStorage.getItem('isAdult');
            const ageModalElement = document.getElementById('ageVerificationModal');
            const ageModal = new bootstrap.Modal(ageModalElement);

            // å¦‚æœæ²’ç´€éŒ„ï¼Œå‰‡å¼·åˆ¶é¡¯ç¤º Modal
            if (isAdult !== 'true') {
                ageModal.show();
            }

            // é»æ“Šã€Œæˆ‘å·²æ»¿ 18 æ­²ã€
            document.getElementById('btnAdultConfirm').addEventListener('click', function () {
                localStorage.setItem('isAdult', 'true');
                ageModal.hide();
            });

            // é»æ“Šã€Œæˆ‘æœªæ»¿ 18 æ­²ã€
            document.getElementById('btnUnderageExit').addEventListener('click', function () {
                window.location.href = 'https://www.google.com';
            });
        });

    </script>
</body>

</html>